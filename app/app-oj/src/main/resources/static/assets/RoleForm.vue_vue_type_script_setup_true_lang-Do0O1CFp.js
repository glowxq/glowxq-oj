import{d as k,r as n,f as s,o as g,x,k as t,j as o,y as f,T as y,W as N}from"./index-DTkCE7MD.js";const F=k({name:"RoleForm",__name:"RoleForm",setup(T,{expose:b}){const _=n({roleName:[{required:!0,message:"请填写角色名称"}]}),r=n(!1),l=n({title:"",row:{},api:void 0,getTableList:void 0}),c=u=>{l.value=u,r.value=!0},i=n(),p=()=>{i.value.validate(async u=>{if(u)try{await l.value.api(l.value.row),N.success({message:`${l.value.title}成功！`}),l.value.getTableList(),r.value=!1}catch(e){console.log(e)}})};return b({acceptParams:c}),(u,e)=>{const d=s("el-input"),m=s("el-form-item"),w=s("el-form"),v=s("el-button"),V=s("el-dialog");return g(),x(V,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=a=>r.value=a),title:`${l.value.title}`,"destroy-on-close":!0,width:"580px",draggable:"","append-to-body":""},{footer:t(()=>[o(v,{onClick:e[3]||(e[3]=a=>r.value=!1)},{default:t(()=>e[5]||(e[5]=[f(" 取消 ")])),_:1}),o(v,{type:"primary",onClick:p},{default:t(()=>e[6]||(e[6]=[f(" 确定 ")])),_:1})]),default:t(()=>[o(w,{ref_key:"ruleFormRef",ref:i,"label-width":"100px","label-suffix":" :",rules:_.value,model:l.value.row,onSubmit:y(p,["prevent"])},{default:t(()=>[o(m,{label:"角色名称",prop:"roleName"},{default:t(()=>[o(d,{disabled:l.value.row.isLock=="T",modelValue:l.value.row.roleName,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.row.roleName=a),placeholder:"请填写角色名称",clearable:""},null,8,["disabled","modelValue"])]),_:1}),o(m,{label:"标识",prop:"permissions"},{default:t(()=>[o(d,{disabled:l.value.row.isLock=="T",modelValue:l.value.row.permissions,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.row.permissions=a),placeholder:"请填写标识",clearable:""},null,8,["disabled","modelValue"])]),_:1}),o(m,{label:"备注",prop:"remark"},{default:t(()=>[o(d,{modelValue:l.value.row.remark,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.row.remark=a),placeholder:"请填写备注",rows:2,type:"textarea",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}});export{F as _};
