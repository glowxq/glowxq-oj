import{d as V,r as m,aB as R,f,o as B,c as F,j as i,k as l,u as s,a_ as O,y as n,a$ as S,t as g,e5 as E,e6 as H,b1 as P,e7 as j,e8 as q,e9 as A,ea as U,eb as h}from"./index-DTkCE7MD.js";import{_ as z}from"./index.vue_vue_type_script_setup_true_lang-v8dVln4N.js";import G from"./DictDataForm-D_ssXIDW.js";import{u as C}from"./useHandleData-BdxQ-8Ab.js";const J={class:"dialog-table-box"},Z=V({name:"DictData",__name:"DictData",setup(K,{expose:L}){const b=m(!1),p=m();L({show:a=>{_.sysDictTypeId=a.id,p.value=a,b.value=!0}});const w=[{type:"selection",width:80,selectable:a=>a.isLock!=="T"},{prop:"id",label:"编号",width:120},{prop:"alias",label:"别名"},{prop:"codeName",label:"名称"},{prop:"isShow",label:"显示",enum:j,width:80},{prop:"callbackShowStyle",label:"回显样式",width:100},{prop:"sort",label:"排序",width:100},{prop:"remark",label:"备注"},{prop:"createTime",label:"创建时间"},{prop:"updateTime",label:"修改时间"},{prop:"operation",label:"操作",width:150,fixed:"right"}],$=[{prop:"codeName",label:"名称",el:"input"}],_=R({sysDictTypeId:0}),d=m(),N=a=>q(a),k=m(),D=(a,e={},o=!0)=>{var u,c;const r={title:a,row:{...e},api:o?A:U,getTableList:(u=d.value)==null?void 0:u.getTableList};(c=k.value)==null||c.acceptParams(r)},x=async a=>{var e;await C(h,{ids:[a.id]},`删除【${a.codeName}】字典`),(e=d.value)==null||e.getTableList()},I=async a=>{var e,o;await C(h,{ids:a},"删除所选字典信息"),(e=d.value)==null||e.clearSelection(),(o=d.value)==null||o.getTableList()};return(a,e)=>{var c,v;const o=f("el-button"),r=f("el-tag"),u=f("el-dialog");return B(),F("div",J,[i(u,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=t=>b.value=t),title:`字典: ${(c=p.value)==null?void 0:c.typeName}(${(v=p.value)==null?void 0:v.typeCode})`,width:"90%","destroy-on-close":!0,"close-on-click-modal":!1,"append-to-body":""},{default:l(()=>[i(z,{ref_key:"proTableRef",ref:d,title:"字典列表",indent:20,columns:w,"search-columns":$,"request-api":N,"init-param":_},{tableHeader:l(t=>[i(o,{type:"primary",icon:s(O),onClick:e[0]||(e[0]=y=>{var T;return D("新增字典",{sysDictTypeId:(T=p.value)==null?void 0:T.id,sort:1,callbackShowStyle:"primary"},!0)})},{default:l(()=>e[2]||(e[2]=[n(" 新增字典 ")])),_:1},8,["icon"]),i(o,{type:"danger",icon:s(S),plain:"",disabled:!t.isSelected,onClick:y=>I(t.selectedListIds)},{default:l(()=>e[3]||(e[3]=[n(" 批量删除字典 ")])),_:2},1032,["icon","disabled","onClick"])]),isShow:l(({row:t})=>[i(r,{type:t.isShow==="T"?"success":"danger"},{default:l(()=>[n(g(s(E)(t==null?void 0:t.isShow)),1)]),_:2},1032,["type"])]),callbackShowStyle:l(({row:t})=>[i(r,{type:t.callbackShowStyle},{default:l(()=>[n(g(s(H)(t==null?void 0:t.callbackShowStyle)),1)]),_:2},1032,["type"])]),operation:l(({row:t})=>[i(o,{type:"primary",link:"",disabled:t.isLock==="T",icon:s(P),onClick:y=>D("编辑字典",t,!1)},{default:l(()=>e[4]||(e[4]=[n(" 编辑 ")])),_:2},1032,["disabled","icon","onClick"]),i(o,{type:"primary",link:"",disabled:t.isLock==="T",icon:s(S),onClick:y=>x(t)},{default:l(()=>e[5]||(e[5]=[n(" 删除 ")])),_:2},1032,["disabled","icon","onClick"])]),_:1},8,["init-param"]),i(G,{ref_key:"dictDataFormRef",ref:k},null,512)]),_:1},8,["modelValue","title"])])}}});export{Z as _};
