import{d as M,aB as T,r as i,f as s,o as F,x as N,k as o,j as a,y as p,a as f,u as q,eq as B,T as R,W as b,_ as U}from"./index-DTkCE7MD.js";const h={class:"form-container"},$={class:"form-header"},L=M({name:"MetaTagCategoryForm",__name:"MetaTagCategoryForm",setup(P,{expose:g}){const w=T({name:[{required:!0,message:"请填写分类名称"}],enable:[{required:!0,message:"请填写启用"}],delFlag:[{required:!0,message:"请填写删除标识"}]}),n=i(!1),l=i({title:"",row:{enable:!0},api:void 0,getTableList:void 0}),k=()=>{const r=["技术标签","业务标签","状态标签","优先级标签","类型标签","测试分类"],e=["用于技术相关的标签分类","业务流程相关标签","状态管理标签","优先级管理","类型分类管理","测试用分类备注"],m=r[Math.floor(Math.random()*r.length)],u=e[Math.floor(Math.random()*e.length)];l.value.row={...l.value.row,name:m,remark:u,enable:!0},b.success("已自动填充测试数据")},V=r=>{l.value=r,(l.value.row.enable===void 0||l.value.row.enable===null)&&(l.value.row.enable=!0),n.value=!0},c=i(),v=()=>{c.value.validate(async r=>{if(r)try{await l.value.api(l.value.row),b.success({message:`${l.value.title}成功！`}),l.value.getTableList(),n.value=!1}catch(e){console.log(e)}})};return g({acceptParams:V}),(r,e)=>{const m=s("el-icon"),u=s("el-button"),_=s("el-input"),d=s("el-form-item"),y=s("el-switch"),x=s("el-form"),C=s("el-dialog");return F(),N(C,{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=t=>n.value=t),title:`${l.value.title}`,"destroy-on-close":!0,width:"580px",draggable:""},{footer:o(()=>[a(u,{onClick:e[3]||(e[3]=t=>n.value=!1)},{default:o(()=>e[7]||(e[7]=[p(" 取消")])),_:1}),a(u,{type:"primary",onClick:v},{default:o(()=>e[8]||(e[8]=[p(" 确定")])),_:1})]),default:o(()=>[f("div",h,[f("div",$,[e[6]||(e[6]=f("h3",{class:"form-title"},"分类信息",-1)),a(u,{type:"primary",link:"",size:"small",onClick:k,class:"test-button"},{default:o(()=>[a(m,null,{default:o(()=>[a(q(B))]),_:1}),e[5]||(e[5]=p(" 一键测试 "))]),_:1})]),a(x,{ref_key:"ruleFormRef",ref:c,"label-width":"140px","label-suffix":" :",rules:w,model:l.value.row,onSubmit:R(v,["prevent"]),class:"tag-category-form"},{default:o(()=>[a(d,{label:"分类名称",prop:"name"},{default:o(()=>[a(_,{modelValue:l.value.row.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.row.name=t),placeholder:"请填写分类名称",clearable:""},null,8,["modelValue"])]),_:1}),a(d,{label:"启用",prop:"enable"},{default:o(()=>[a(y,{modelValue:l.value.row.enable,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.row.enable=t)},null,8,["modelValue"])]),_:1}),a(d,{label:"备注",prop:"remark"},{default:o(()=>[a(_,{modelValue:l.value.row.remark,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.row.remark=t),placeholder:"请填写备注",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])])]),_:1},8,["modelValue","title"])}}}),j=U(L,[["__scopeId","data-v-d9af32cd"]]);export{j as default};
