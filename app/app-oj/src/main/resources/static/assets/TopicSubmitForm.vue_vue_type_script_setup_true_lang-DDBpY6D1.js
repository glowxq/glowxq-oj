import{d as S,bc as C,aB as K,r as f,f as t,o as d,x as i,k as u,j as a,y as q,T as O,c as g,P as w,Q as c,u as T,W as F}from"./index-DTkCE7MD.js";const B=S({name:"TopicSubmitForm",__name:"TopicSubmitForm",setup(j,{expose:x}){const b=C(),k=K({topicId:[{required:!0,message:"请填写主题ID"}],problemId:[{required:!0,message:"请填写题目ID"}],problemKey:[{required:!0,message:"请填写题目Key"}],problemTitle:[{required:!0,message:"请填写题目标题ID"}],problemType:[{required:!0,message:"请填写题目类型"}],topicJudgeType:[{required:!0,message:"请填写主题测评类型 ACM/OI"}],userId:[{required:!0,message:"请填写用户ID"}],name:[{required:!0,message:"请填写姓名"}],nickName:[{required:!0,message:"请填写昵称"}],judgeStatus:[{required:!0,message:"请填写测评状态"}],score:[{required:!0,message:"请填写主题分数"}],useTime:[{required:!0,message:"请填写做题用时(分)"}],punishmentTime:[{required:!0,message:"请填写罚时(分)"}],createTime:[{required:!0,message:"请填写创建时间"}],updateTime:[{required:!0,message:"请填写更新时间"}],delFlag:[{required:!0,message:"请填写是否删除"}]}),n=f(!1),o=f({title:"",row:{},api:void 0,getTableList:void 0}),U=p=>{o.value=p,n.value=!0},y=f(),I=()=>{y.value.validate(async p=>{if(p)try{await o.value.api(o.value.row),F.success({message:`${o.value.title}成功！`}),o.value.getTableList(),n.value=!1}catch(l){console.log(l)}})};return x({acceptParams:U}),(p,l)=>{const m=t("el-input-number"),r=t("el-form-item"),s=t("el-input"),v=t("el-option"),V=t("el-select"),D=t("el-form"),_=t("el-button"),N=t("el-dialog");return d(),i(N,{modelValue:n.value,"onUpdate:modelValue":l[14]||(l[14]=e=>n.value=e),title:`${o.value.title}`,"destroy-on-close":!0,width:"580px",draggable:""},{footer:u(()=>[a(_,{onClick:l[13]||(l[13]=e=>n.value=!1)},{default:u(()=>l[15]||(l[15]=[q(" 取消")])),_:1}),a(_,{type:"primary",onClick:I},{default:u(()=>l[16]||(l[16]=[q(" 确定")])),_:1})]),default:u(()=>[a(D,{ref_key:"ruleFormRef",ref:y,"label-width":"140px","label-suffix":" :",rules:k,model:o.value.row,onSubmit:O(I,["prevent"])},{default:u(()=>[a(r,{label:"主题ID",prop:"topicId"},{default:u(()=>[a(m,{modelValue:o.value.row.topicId,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value.row.topicId=e),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),a(r,{label:"题目ID",prop:"problemId"},{default:u(()=>[a(m,{modelValue:o.value.row.problemId,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value.row.problemId=e),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),a(r,{label:"题目Key",prop:"problemKey"},{default:u(()=>[a(s,{modelValue:o.value.row.problemKey,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value.row.problemKey=e),placeholder:"请填写题目Key",clearable:""},null,8,["modelValue"])]),_:1}),a(r,{label:"题目标题ID",prop:"problemTitle"},{default:u(()=>[a(s,{modelValue:o.value.row.problemTitle,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.row.problemTitle=e),placeholder:"请填写题目标题ID",clearable:""},null,8,["modelValue"])]),_:1}),a(r,{label:"题目类型",prop:"problemType"},{default:u(()=>[a(V,{modelValue:o.value.row.problemType,"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.row.problemType=e),clearable:"",placeholder:"请选择题目类型"},{default:u(()=>[(d(!0),g(w,null,c(T(b).getDictOptions(""),e=>(d(),i(v,{key:e.id,label:e.codeName,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"主题测评类型 ACM/OI",prop:"topicJudgeType"},{default:u(()=>[a(V,{modelValue:o.value.row.topicJudgeType,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value.row.topicJudgeType=e),clearable:"",placeholder:"请选择主题测评类型 ACM/OI"},{default:u(()=>[(d(!0),g(w,null,c(T(b).getDictOptions(""),e=>(d(),i(v,{key:e.id,label:e.codeName,value:Number(e.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"用户ID",prop:"userId"},{default:u(()=>[a(m,{modelValue:o.value.row.userId,"onUpdate:modelValue":l[6]||(l[6]=e=>o.value.row.userId=e),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),a(r,{label:"姓名",prop:"name"},{default:u(()=>[a(s,{modelValue:o.value.row.name,"onUpdate:modelValue":l[7]||(l[7]=e=>o.value.row.name=e),placeholder:"请填写姓名",clearable:""},null,8,["modelValue"])]),_:1}),a(r,{label:"昵称",prop:"nickName"},{default:u(()=>[a(s,{modelValue:o.value.row.nickName,"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.row.nickName=e),placeholder:"请填写昵称",clearable:""},null,8,["modelValue"])]),_:1}),a(r,{label:"测评状态",prop:"judgeStatus"},{default:u(()=>[a(V,{modelValue:o.value.row.judgeStatus,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value.row.judgeStatus=e),clearable:"",placeholder:"请选择测评状态"},{default:u(()=>[(d(!0),g(w,null,c(T(b).getDictOptions(""),e=>(d(),i(v,{key:e.id,label:e.codeName,value:Number(e.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"主题分数",prop:"score"},{default:u(()=>[a(m,{modelValue:o.value.row.score,"onUpdate:modelValue":l[10]||(l[10]=e=>o.value.row.score=e),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),a(r,{label:"做题用时(分)",prop:"useTime"},{default:u(()=>[a(m,{modelValue:o.value.row.useTime,"onUpdate:modelValue":l[11]||(l[11]=e=>o.value.row.useTime=e),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),a(r,{label:"罚时(分)",prop:"punishmentTime"},{default:u(()=>[a(m,{modelValue:o.value.row.punishmentTime,"onUpdate:modelValue":l[12]||(l[12]=e=>o.value.row.punishmentTime=e),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}});export{B as _};
