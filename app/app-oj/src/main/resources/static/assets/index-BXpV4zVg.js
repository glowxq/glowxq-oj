import{_ as m}from"./index.vue_vue_type_script_setup_true_lang-v8dVln4N.js";import{h as d,aP as g,d as b,bc as u,r as f,o as _,c as T,j as h,k as y,a as w,t as S}from"./index-DTkCE7MD.js";import"./sortable.esm-Cw1ESr5Y.js";const x=i=>d.get(g+"/sys-file",i),N={class:"table-box"},k=["href","download"],M=b({name:"SysFileView",__name:"index",setup(i){const r=u(),o=f(),s=[{type:"selection",width:80},{prop:"id",label:"文件标识",width:120},{prop:"filename",label:"文件名"},{prop:"dirTag",label:"目录标识",tag:!0,width:120},{prop:"size",label:"文件大小",width:100},{prop:"objectName",label:"objectName"},{prop:"contextType",label:"contextType",tag:!0,width:180},{prop:"eTag",label:"eTag标识"},{prop:"url",label:"文件",width:80},{prop:"createTime",label:"创建时间",width:165},{prop:"createId",label:"创建人",tag:!0,enum:r.getDictOptions("dynamic_user_options"),fieldNames:{label:"codeName",value:"id",tagType:"callbackShowStyle"},width:140}],l=[{prop:"filename",label:"文件名",el:"input"}],n=t=>{let e=p(t);return x(e)},p=t=>{let e=JSON.parse(JSON.stringify(t));return e.createTime&&(e.createTimeStart=e.createTime[0]),e.createTime&&(e.createTimeEnd=e.createTime[1]),delete e.createTime,e},c=t=>(console.log("contextType",t),["image/jpeg","image/png","image/gif","image/bmp","image/tiff","image/webp","image/svg+xml"].includes(t));return(t,e)=>(_(),T("div",N,[h(m,{ref_key:"proTableRef",ref:o,title:"文件管理",indent:20,columns:s,"search-columns":l,"request-api":n,"row-key":"id"},{url:y(({row:a})=>[w("a",{href:a.url,target:"_blank",download:a.filename},S(c(a.contextType)?"预览":"下载"),9,k)]),_:1},512)]))}});export{M as default};
