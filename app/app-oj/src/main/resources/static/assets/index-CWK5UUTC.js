import{h as d,aP as f,d as N,r as g,f as w,o as y,c as D,j as r,k as l,u as c,a_ as V,y as p,a$ as _,b1 as K,x as R,m as B}from"./index-DTkCE7MD.js";import{_ as E}from"./index.vue_vue_type_script_setup_true_lang-v8dVln4N.js";import{u as k}from"./useHandleData-BdxQ-8Ab.js";import{_ as I}from"./ConfigEditForm.vue_vue_type_script_setup_true_lang-BaySFMak.js";import"./sortable.esm-Cw1ESr5Y.js";const M=a=>d.get(f+"/sys-config",a),h=a=>d.post(f+"/sys-config",a),A=a=>d.put(f+"/sys-config",a),C=a=>d.delete(f+"/sys-config",a),H={class:"table-box"},O=N({name:"DictManage",__name:"index",setup(a){const T=[{type:"selection",width:80,selectable:t=>t.isLock!=="T"},{prop:"configName",label:"参数名称"},{prop:"configKey",label:"Key",tag:!0,width:200},{prop:"configValue",label:"Value"},{prop:"remark",label:"备注"},{prop:"createTime",label:"创建时间"},{prop:"updateTime",label:"修改时间"},{prop:"operation",label:"操作",width:250,fixed:"right"}],v=[{prop:"configName",label:"参数名称",el:"input"},{prop:"configKey",label:"Key",el:"input"}],s=g(),L=t=>M(t),u=g(),m=(t,e={},o=!0)=>{var i,b;const n={title:t,row:{...e},api:o?h:A,getTableList:(i=s.value)==null?void 0:i.getTableList};(b=u.value)==null||b.acceptParams(n)},x=async t=>{var e;await k(C,{ids:[t.id]},`删除【${t.configName}】参数`),(e=s.value)==null||e.getTableList()},$=async t=>{var e,o;await k(C,{ids:t},"删除所选参数"),(e=s.value)==null||e.clearSelection(),(o=s.value)==null||o.getTableList()};return(t,e)=>{const o=w("el-button");return y(),D("div",H,[r(E,{ref_key:"proTableRef",ref:s,title:"参数列表",indent:20,columns:T,"search-columns":v,"request-api":L},{tableHeader:l(n=>[r(o,{type:"primary",icon:c(V),onClick:e[0]||(e[0]=i=>m("新增参数"))},{default:l(()=>e[1]||(e[1]=[p(" 新增参数 ")])),_:1},8,["icon"]),r(o,{type:"danger",icon:c(_),plain:"",disabled:!n.isSelected,onClick:i=>$(n.selectedListIds)},{default:l(()=>e[2]||(e[2]=[p(" 批量删除参数 ")])),_:2},1032,["icon","disabled","onClick"])]),operation:l(({row:n})=>[r(o,{type:"primary",link:"",icon:c(K),onClick:i=>m("编辑参数",n,!1)},{default:l(()=>e[3]||(e[3]=[p(" 编辑 ")])),_:2},1032,["icon","onClick"]),n.isLock==="F"?(y(),R(o,{key:0,type:"primary",link:"",icon:c(_),onClick:i=>x(n)},{default:l(()=>e[4]||(e[4]=[p(" 删除 ")])),_:2},1032,["icon","onClick"])):B("",!0)]),_:1},512),r(I,{ref_key:"dictTypeRef",ref:u},null,512)])}}});export{O as default};
