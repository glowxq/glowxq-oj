import{d as q,bc as E,aB as S,r as v,b as F,f as r,o as m,x as p,k as t,j as a,y as V,T as O,u as g,W as N,_ as B}from"./index-DTkCE7MD.js";import{E as y}from"./EnumSelect-C2fXZs6G.js";import{U as I}from"./Img-CbqiKKTP.js";const P={BOTTOM_MENU:{code:"BottomMenu",name:"底部菜单",tooltip:"页面底部菜单",text:"页面底部菜单"},TOP_MENU:{code:"TopMenu",name:"顶部菜单",tooltip:"页面顶部菜单",text:"页面顶部菜单"},SIDE_MENU:{code:"SideMenu",name:"侧边菜单",tooltip:"页面侧边菜单",text:"页面侧边菜单"}},$={ICON:{code:"Icon",name:"Icon",tooltip:"图标类型",text:"图标类型"},IMAGE:{code:"Image",name:"图片",tooltip:"图片类型",text:"图片类型"}},j=q({name:"MetaMenuForm",__name:"MetaMenuForm",setup(R,{expose:U}){E();const _=S({name:[{required:!0,message:"请填写底部菜单名称"}],activeIcon:[{required:!0,message:"请填写选中图标"}],inactiveIcon:[{required:!0,message:"请填写未选中图标"}],iconType:[{required:!0,message:"请选择图标类型"}],type:[{required:!0,message:"请选择菜单类型"}],path:[{required:!0,message:"请填写菜单路径"}],lock:[{required:!0,message:"请填写是否锁定"}],delFlag:[{required:!0,message:"请填写删除标识"}]}),n=v(!1),e=v({title:"",row:{},api:void 0,getTableList:void 0}),c=F(()=>e.value.row.iconType==="Image"),M=()=>{e.value.row.activeIcon="",e.value.row.inactiveIcon=""},x=i=>{e.value=i,n.value=!0},f=v(),b=()=>{f.value.validate(async i=>{if(i)try{await e.value.api(e.value.row),N.success({message:`${e.value.title}成功！`}),e.value.getTableList(),n.value=!1}catch(l){console.log(l)}})};return U({acceptParams:x}),(i,l)=>{const d=r("el-input"),u=r("el-form-item"),s=r("el-switch"),T=r("el-input-number"),k=r("el-form"),w=r("el-button"),C=r("el-dialog");return m(),p(C,{modelValue:n.value,"onUpdate:modelValue":l[14]||(l[14]=o=>n.value=o),title:`${e.value.title}`,"destroy-on-close":!0,width:"580px",draggable:""},{footer:t(()=>[a(w,{onClick:l[13]||(l[13]=o=>n.value=!1)},{default:t(()=>l[15]||(l[15]=[V(" 取消")])),_:1}),a(w,{type:"primary",onClick:b},{default:t(()=>l[16]||(l[16]=[V(" 确定")])),_:1})]),default:t(()=>[a(k,{ref_key:"ruleFormRef",ref:f,"label-width":"140px","label-suffix":" :",rules:_,model:e.value.row,onSubmit:O(b,["prevent"])},{default:t(()=>[a(u,{label:"底部菜单名称",prop:"name"},{default:t(()=>[a(d,{modelValue:e.value.row.name,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.row.name=o),placeholder:"请填写底部菜单名称",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"图标类型",prop:"iconType"},{default:t(()=>[a(y,{modelValue:e.value.row.iconType,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.row.iconType=o),"enum-data":g($),type:"tab",onChange:M},null,8,["modelValue","enum-data"])]),_:1}),a(u,{label:"选中图标",prop:"activeIcon"},{default:t(()=>[c.value?(m(),p(I,{key:0,imageUrl:e.value.row.activeIcon,"onUpdate:imageUrl":l[2]||(l[2]=o=>e.value.row.activeIcon=o),height:"100px",width:"100px",dir:"menu",accept:"image/*"},null,8,["imageUrl"])):(m(),p(d,{key:1,modelValue:e.value.row.activeIcon,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.row.activeIcon=o),placeholder:"请填写选中图标",clearable:""},null,8,["modelValue"]))]),_:1}),a(u,{label:"未选中图标",prop:"inactiveIcon"},{default:t(()=>[c.value?(m(),p(I,{key:0,imageUrl:e.value.row.inactiveIcon,"onUpdate:imageUrl":l[4]||(l[4]=o=>e.value.row.inactiveIcon=o),height:"100px",width:"100px",dir:"menu",accept:"image/*"},null,8,["imageUrl"])):(m(),p(d,{key:1,modelValue:e.value.row.inactiveIcon,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.row.inactiveIcon=o),placeholder:"请填写未选中图标",clearable:""},null,8,["modelValue"]))]),_:1}),a(u,{label:"菜单类型",prop:"type"},{default:t(()=>[a(y,{modelValue:e.value.row.type,"onUpdate:modelValue":l[6]||(l[6]=o=>e.value.row.type=o),"enum-data":g(P),type:"tab"},null,8,["modelValue","enum-data"])]),_:1}),a(u,{label:"菜单路径",prop:"path"},{default:t(()=>[a(d,{modelValue:e.value.row.path,"onUpdate:modelValue":l[7]||(l[7]=o=>e.value.row.path=o),placeholder:"请填写菜单路径",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"状态",prop:"enable"},{default:t(()=>[a(s,{modelValue:e.value.row.enable,"onUpdate:modelValue":l[8]||(l[8]=o=>e.value.row.enable=o)},null,8,["modelValue"])]),_:1}),a(u,{label:"排序",prop:"sort"},{default:t(()=>[a(T,{modelValue:e.value.row.sort,"onUpdate:modelValue":l[9]||(l[9]=o=>e.value.row.sort=o),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),a(u,{label:"是否有子级",prop:"hasChildren"},{default:t(()=>[a(s,{modelValue:e.value.row.hasChildren,"onUpdate:modelValue":l[10]||(l[10]=o=>e.value.row.hasChildren=o),placeholder:"请填写是否有子级",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"是否锁定",prop:"lock"},{default:t(()=>[a(s,{modelValue:e.value.row.lock,"onUpdate:modelValue":l[11]||(l[11]=o=>e.value.row.lock=o),placeholder:"请填写是否锁定",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"备注",prop:"remark"},{default:t(()=>[a(d,{modelValue:e.value.row.remark,"onUpdate:modelValue":l[12]||(l[12]=o=>e.value.row.remark=o),placeholder:"请填写备注",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}}),L=B(j,[["__scopeId","data-v-d9e67c49"]]),D=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{$ as M,P as a,L as b,D as c};
