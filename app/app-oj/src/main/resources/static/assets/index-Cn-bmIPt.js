import{d as P,r as g,f as $,g as I,o as n,c as R,j as f,k as r,i as p,x as m,u as c,a_ as S,y as d,a$ as _,D as N,b0 as B,b1 as V}from"./index-DTkCE7MD.js";import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-v8dVln4N.js";import{g as H,a as J,c as O,u as j,r as v,i as q,e as z}from"./metaTagCategory-DYsFMRBy.js";import{u as k}from"./useHandleData-BdxQ-8Ab.js";import G from"./MetaTagCategoryForm-Bl-swNfR.js";import{I as K,d as Q,u as U}from"./common-DxSkM119.js";import"./sortable.esm-Cw1ESr5Y.js";const W={class:"table-box"},ie=P({name:"MetaTagCategoryView",__name:"index",setup(X){const l=g(),x=[{type:"selection",width:80},{prop:"name",label:"分类名称"},{prop:"enable",label:"启用"},{prop:"remark",label:"备注"},{prop:"operation",label:"操作",width:250,fixed:"right"}],w=[{prop:"name",label:"分类名称",el:"input"},{prop:"enable",label:"启用",el:"input"}],A=t=>{let e=y(t);return H(e)},y=t=>{let e=JSON.parse(JSON.stringify(t));return e.createTime&&(e.createTimeStart=e.createTime[0]),e.createTime&&(e.createTimeEnd=e.createTime[1]),delete e.createTime,e.updateTime&&(e.updateTimeStart=e.updateTime[0]),e.updateTime&&(e.updateTimeEnd=e.updateTime[1]),delete e.updateTime,e},T=g(),b=async(t,e={},a=!0)=>{var i,s;if(!a){const u=await J({id:e==null?void 0:e.id});e=u==null?void 0:u.data}const o={title:t,row:{...e},api:a?O:j,getTableList:(i=l.value)==null?void 0:i.getTableList};(s=T.value)==null||s.acceptParams(o)},E=async t=>{var e;await k(v,{ids:[t.id]},`删除【${t.id}】标签分类`),(e=l.value)==null||e.getTableList()},L=async t=>{var e,a;await k(v,{ids:t},"删除所选标签分类"),(e=l.value)==null||e.clearSelection(),(a=l.value)==null||a.getTableList()},C=g(),M=()=>{var e,a;const t={title:"标签分类",templateName:"标签分类",tempApi:Q,importApi:q,getTableList:(e=l.value)==null?void 0:e.getTableList};(a=C.value)==null||a.acceptParams(t)},D=async()=>{var e;let t=y((e=l.value)==null?void 0:e.searchParam);U(z,"标签分类",t)};return(t,e)=>{const a=$("el-button"),o=I("auth");return n(),R("div",W,[f(F,{ref_key:"proTableRef",ref:l,title:"标签分类",indent:20,columns:x,"search-columns":w,"request-api":A,"row-key":"id"},{tableHeader:r(i=>[p((n(),m(a,{type:"primary",icon:c(S),onClick:e[0]||(e[0]=s=>b("新增标签分类"))},{default:r(()=>e[1]||(e[1]=[d(" 新增 ")])),_:1},8,["icon"])),[[o,"meta.tag.category.create"]]),p((n(),m(a,{type:"danger",icon:c(_),plain:"",disabled:!i.isSelected,onClick:s=>L(i.selectedListIds)},{default:r(()=>e[2]||(e[2]=[d(" 批量删除 ")])),_:2},1032,["icon","disabled","onClick"])),[[o,"meta.tag.category.remove"]]),p((n(),m(a,{type:"primary",icon:c(N),plain:"",onClick:M},{default:r(()=>e[3]||(e[3]=[d(" 导入 ")])),_:1},8,["icon"])),[[o,"meta.tag.category.import"]]),p((n(),m(a,{type:"primary",icon:c(B),plain:"",onClick:D},{default:r(()=>e[4]||(e[4]=[d(" 导出 ")])),_:1},8,["icon"])),[[o,"meta.tag.category.export"]])]),operation:r(({row:i})=>[p((n(),m(a,{type:"primary",link:"",icon:c(V),onClick:s=>b("编辑标签分类",i,!1)},{default:r(()=>e[5]||(e[5]=[d(" 编辑 ")])),_:2},1032,["icon","onClick"])),[[o,"meta.tag.category.update"]]),p((n(),m(a,{type:"primary",link:"",icon:c(_),onClick:s=>E(i)},{default:r(()=>e[6]||(e[6]=[d(" 删除 ")])),_:2},1032,["icon","onClick"])),[[o,"meta.tag.category.remove"]])]),_:1},512),f(G,{ref_key:"metaTagCategoryRef",ref:T},null,512),f(K,{ref_key:"ImportExcelRef",ref:C},null,512)])}}});export{ie as default};
