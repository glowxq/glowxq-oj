import{d as D,bc as M,aB as N,r as i,f as r,o as m,x as c,k as t,j as o,y,T as q,c as T,P as k,Q as C,u as S,W as F}from"./index-DTkCE7MD.js";const L=D({name:"TeacherStatisticsForm",__name:"TeacherStatisticsForm",setup(B,{expose:U}){const v=M(),x=N({year:[{required:!0,message:"请填写统计年限"}],month:[{required:!0,message:"请填写统计月份"}],teacherId:[{required:!0,message:"请填写教师id"}],teacherCommonType:[{required:!0,message:"请填写讲师区分类型"}],checkStatus:[{required:!0,message:"请填写核对状态"}]}),n=i(!1),a=i({title:"",row:{},api:void 0,getTableList:void 0}),h=s=>{a.value=s,n.value=!0},f=i(),V=()=>{f.value.validate(async s=>{if(s)try{await a.value.api(a.value.row),F.success({message:`${a.value.title}成功！`}),a.value.getTableList(),n.value=!1}catch(e){console.log(e)}})};return U({acceptParams:h}),(s,e)=>{const d=r("el-input"),u=r("el-form-item"),b=r("el-option"),w=r("el-select"),p=r("el-input-number"),_=r("el-date-picker"),Y=r("el-form"),g=r("el-button"),H=r("el-dialog");return m(),c(H,{modelValue:n.value,"onUpdate:modelValue":e[13]||(e[13]=l=>n.value=l),title:`${a.value.title}`,"destroy-on-close":!0,width:"580px",draggable:""},{footer:t(()=>[o(g,{onClick:e[12]||(e[12]=l=>n.value=!1)},{default:t(()=>e[14]||(e[14]=[y(" 取消 ")])),_:1}),o(g,{type:"primary",onClick:V},{default:t(()=>e[15]||(e[15]=[y(" 确定 ")])),_:1})]),default:t(()=>[o(Y,{ref_key:"ruleFormRef",ref:f,"label-width":"140px","label-suffix":" :",rules:x,model:a.value.row,onSubmit:q(V,["prevent"])},{default:t(()=>[o(u,{label:"统计年限",prop:"year"},{default:t(()=>[o(d,{modelValue:a.value.row.year,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.row.year=l),placeholder:"请填写统计年限",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"统计月份",prop:"month"},{default:t(()=>[o(d,{modelValue:a.value.row.month,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.row.month=l),placeholder:"请填写统计月份",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"统计年月",prop:"duringTime"},{default:t(()=>[o(d,{modelValue:a.value.row.duringTime,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.row.duringTime=l),placeholder:"请填写统计年月",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"教师id",prop:"teacherId"},{default:t(()=>[o(d,{modelValue:a.value.row.teacherId,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.row.teacherId=l),placeholder:"请填写教师id",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"讲师区分类型",prop:"teacherCommonType"},{default:t(()=>[o(w,{modelValue:a.value.row.teacherCommonType,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.row.teacherCommonType=l),clearable:"",placeholder:"请选择讲师区分类型"},{default:t(()=>[(m(!0),T(k,null,C(S(v).getDictOptions("account_status"),l=>(m(),c(b,{key:l.id,label:l.codeName,value:Number(l.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"授课总数",prop:"totalTeaching"},{default:t(()=>[o(p,{modelValue:a.value.row.totalTeaching,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.row.totalTeaching=l),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(u,{label:"服务班次数",prop:"totalClassCount"},{default:t(()=>[o(p,{modelValue:a.value.row.totalClassCount,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.row.totalClassCount=l),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(u,{label:"课时总数",prop:"totalHours"},{default:t(()=>[o(p,{modelValue:a.value.row.totalHours,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.row.totalHours=l),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(u,{label:"核对状态",prop:"checkStatus"},{default:t(()=>[o(w,{modelValue:a.value.row.checkStatus,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.row.checkStatus=l),clearable:"",placeholder:"请选择核对状态"},{default:t(()=>[(m(!0),T(k,null,C(S(v).getDictOptions("account_status"),l=>(m(),c(b,{key:l.id,label:l.codeName,value:Number(l.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"核对时间",prop:"checkTime"},{default:t(()=>[o(_,{clearable:"",modelValue:a.value.row.checkTime,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.row.checkTime=l),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择核对时间"},null,8,["modelValue"])]),_:1}),o(u,{label:"最近一次同步时间",prop:"lastSyncTime"},{default:t(()=>[o(_,{clearable:"",modelValue:a.value.row.lastSyncTime,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.row.lastSyncTime=l),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择最近一次同步时间"},null,8,["modelValue"])]),_:1}),o(u,{label:"备注",prop:"remark"},{default:t(()=>[o(d,{modelValue:a.value.row.remark,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.row.remark=l),placeholder:"请填写备注",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}});export{L as _};
