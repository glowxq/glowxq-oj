import{d as k,aB as U,r as i,f as m,o as y,x as N,k as u,j as o,y as f,T,W as C}from"./index-DTkCE7MD.js";const q=k({name:"JudgeServerForm",__name:"JudgeServerForm",setup(E,{expose:V}){const w=U({ip:[{required:!0,message:"请填写判题机ip"}],port:[{required:!0,message:"请填写判题机端口号"}],taskNumber:[{required:!0,message:"请填写当前判题数"}],maxTaskNumber:[{required:!0,message:"请填写判题并发最大数"}],createTime:[{required:!0,message:"请填写创建时间"}],updateTime:[{required:!0,message:"请填写更新时间"}]}),n=i(!1),l=i({title:"",row:{},api:void 0,getTableList:void 0}),x=p=>{l.value=p,n.value=!0},s=i(),b=()=>{s.value.validate(async p=>{if(p)try{await l.value.api(l.value.row),C.success({message:`${l.value.title}成功！`}),l.value.getTableList(),n.value=!1}catch(e){console.log(e)}})};return V({acceptParams:x}),(p,e)=>{const d=m("el-input"),r=m("el-form-item"),t=m("el-input-number"),g=m("el-form"),v=m("el-button"),_=m("el-dialog");return y(),N(_,{modelValue:n.value,"onUpdate:modelValue":e[12]||(e[12]=a=>n.value=a),title:`${l.value.title}`,"destroy-on-close":!0,width:"580px",draggable:""},{footer:u(()=>[o(v,{onClick:e[11]||(e[11]=a=>n.value=!1)},{default:u(()=>e[13]||(e[13]=[f(" 取消")])),_:1}),o(v,{type:"primary",onClick:b},{default:u(()=>e[14]||(e[14]=[f(" 确定")])),_:1})]),default:u(()=>[o(g,{ref_key:"ruleFormRef",ref:s,"label-width":"140px","label-suffix":" :",rules:w,model:l.value.row,onSubmit:T(b,["prevent"])},{default:u(()=>[o(r,{label:"判题服务名字",prop:"name"},{default:u(()=>[o(d,{modelValue:l.value.row.name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.row.name=a),placeholder:"请填写判题服务名字",clearable:""},null,8,["modelValue"])]),_:1}),o(r,{label:"判题机ip",prop:"ip"},{default:u(()=>[o(d,{modelValue:l.value.row.ip,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.row.ip=a),placeholder:"请填写判题机ip",clearable:""},null,8,["modelValue"])]),_:1}),o(r,{label:"判题机端口号",prop:"port"},{default:u(()=>[o(t,{modelValue:l.value.row.port,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.row.port=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(r,{label:"ip:port",prop:"url"},{default:u(()=>[o(d,{modelValue:l.value.row.url,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.row.url=a),placeholder:"请填写ip:port",clearable:""},null,8,["modelValue"])]),_:1}),o(r,{label:"判题机所在服务器cpu核心数",prop:"cpuCore"},{default:u(()=>[o(t,{modelValue:l.value.row.cpuCore,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.row.cpuCore=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(r,{label:"判题机所在服务器空闲内存",prop:"freeMemory"},{default:u(()=>[o(t,{modelValue:l.value.row.freeMemory,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.row.freeMemory=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(r,{label:"当前判题数",prop:"taskNumber"},{default:u(()=>[o(t,{modelValue:l.value.row.taskNumber,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.row.taskNumber=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(r,{label:"判题并发最大数",prop:"maxTaskNumber"},{default:u(()=>[o(t,{modelValue:l.value.row.maxTaskNumber,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.row.maxTaskNumber=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(r,{label:"0禁用|1启用",prop:"enable"},{default:u(()=>[o(t,{modelValue:l.value.row.enable,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.row.enable=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(r,{label:"是否开启远程判题vj",prop:"remoteEnable"},{default:u(()=>[o(t,{modelValue:l.value.row.remoteEnable,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.row.remoteEnable=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(r,{label:"是否可提交CF",prop:"cfSubmittableEnable"},{default:u(()=>[o(t,{modelValue:l.value.row.cfSubmittableEnable,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.row.cfSubmittableEnable=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}});export{q as _};
