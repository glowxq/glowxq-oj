import{d as Be,b as le,o as a,c as d,P as ye,Q as Pe,bK as mt,f as Z,x as X,k as v,y as E,t as M,z as Jt,_ as xe,h as jt,O as Gt,r as S,a as l,j as n,u as w,bn as Ht,bS as zt,i as qt,N as Wt,R as nt,m as J,w as Ze,B as vt,dt as Dt,dv as Ut,F as Kt,ds as We,a3 as Qt,q as Zt,aB as Pt,dw as Ke,e as Yt,ae as Bt,dx as xt,W as G,bt as Xt,bm as eo,bu as Ue,dy as to,dz as oo,bB as lo,aH as so,a9 as no,M as ao,n as pt,dq as st,dA as ro,V as Nt,a6 as io,aa as uo}from"./index-DTkCE7MD.js";import{M as Ve}from"./MdPreview-CyycvVxJ.js";import{P as R}from"./ProblemType-TBlMUhPx.js";import{J as Le,m as co}from"./JudgeSceneType-G292ww_A.js";import{a as po}from"./problem-CJE_etNM.js";import{b as mo}from"./judge-CnKkIsdI.js";import{P as vo}from"./ProgramType-C5wHKcT4.js";import{D as Fe}from"./DifficultyLevel-DrWtmZg7.js";import{J as fo}from"./JudgeStatusShow-BtDm6N5o.js";import{J as ie}from"./JudgeStatus-By11LX14.js";import{g as go}from"./topic-DtpaBxBf.js";import"./style-DrPmFrlE.js";const Qe={NORMAL_JUDGE:{code:"NormalJudge",name:"普通评测",tooltip:"普通评测",text:"标准评测流程"},FIXED_JUDGE:{code:"FixedJudge",name:"客观题评测",tooltip:"客观题评测",text:"针对选择、填空等客观题的评测"},REMOTE_JUDGE:{code:"RemoteJudge",name:"远程评测",tooltip:"远程评测",text:"使用远程评测系统进行评测"},TEST_JUDGE:{code:"TestJudge",name:"在线调试",tooltip:"在线调试",text:"用于测试和调试代码"},COMPILE_SPJ:{code:"CompileSpj",name:"编译特判程序",tooltip:"编译特判程序",text:"编译用于特殊判题的程序"},COMPILE_INTERACTIVE:{code:"CompileInteractive",name:"编译交互程序",tooltip:"编译交互程序",text:"编译用于交互式题目的程序"}},ho={class:"tag-show-container"},bo={key:1,class:"empty-tags"},yo=Be({name:"TagShow",__name:"TagShow",props:{tagList:{}},setup(K){const y=K,f=le(()=>y.tagList||[]);return(P,h)=>{const p=Z("el-tag");return a(),d("div",ho,[f.value&&f.value.length>0?(a(!0),d(ye,{key:0},Pe(f.value,(I,C)=>(a(),X(p,{key:I.id||C,class:"tag-item",style:Jt({backgroundColor:I.backgroundColor||"#f5f5f7",color:I.textColor||"#1d1d1f",borderColor:I.backgroundColor||"#f5f5f7"})},{default:v(()=>[E(M(I.name),1)]),_:2},1032,["style"]))),128)):(a(),d("div",bo,[mt(P.$slots,"default",{},void 0,!0)]))])}}}),_o=xe(yo,[["__scopeId","data-v-50057aa6"]]),wo=K=>jt.post(Gt+"/judge/submit/submitNormal",K),To={class:"problem-header"},Co={class:"problem-title-wrapper"},ko={class:"problem-title"},So={class:"problem-info"},Io={key:1,class:"info-text"},Mo={key:2,class:"info-text"},$o={key:3,class:"info-text"},Eo=Be({name:"ProblemHeader",__name:"ProblemHeader",props:{problem:{},initialShowInfo:{type:Boolean}},setup(K){const y=K,f=S(y.initialShowInfo!==void 0?y.initialShowInfo:!0),P=p=>{switch(p){case Fe.ENTRY.code:return"#67c23a";case Fe.EASY.code:return"#67c23a";case Fe.MEDIUM.code:return"#e6a23c";case Fe.HARD.code:return"#f56c6c";case Fe.EXPERT.code:return"#909399";default:return"#909399"}},h=()=>{f.value=!f.value};return(p,I)=>{var U,V,N,Q,se,g,r,u;const C=Z("el-icon"),D=Z("el-button");return a(),d("div",To,[l("div",Co,[l("div",ko,M((U=p.problem)==null?void 0:U.title),1),mt(p.$slots,"sceneType",{},void 0,!0),n(D,{type:"text",onClick:h,class:"info-toggle"},{default:v(()=>[E(M(f.value?"收起":"展开")+" ",1),n(C,null,{default:v(()=>[f.value?(a(),X(w(zt),{key:1})):(a(),X(w(Ht),{key:0}))]),_:1})]),_:1})]),qt(l("div",So,[((V=p.problem)==null?void 0:V.difficulty)!==void 0?(a(),X(nt,{key:0,enum:w(Fe),code:((N=p.problem)==null?void 0:N.difficulty)||0,class:"info-enum",backgroundColor:P(p.problem.difficulty),color:"#fff"},null,8,["enum","code","backgroundColor"])):J("",!0),n(nt,{enum:w(R),code:((Q=p.problem)==null?void 0:Q.problemType)||"",class:"info-enum",backgroundColor:"#f0f2f5",color:"#606266"},null,8,["enum","code"]),n(nt,{enum:w(vo),code:((se=p.problem)==null?void 0:se.programType)||0,class:"info-enum",backgroundColor:"#f0f2f5",color:"#606266"},null,8,["enum","code"]),mt(p.$slots,"tags",{},void 0,!0),(g=p.problem)!=null&&g.timeLimit?(a(),d("span",Io,"时间限制: "+M(p.problem.timeLimit)+"ms",1)):J("",!0),(r=p.problem)!=null&&r.memoryLimit?(a(),d("span",Mo,"内存限制: "+M(Math.floor((p.problem.memoryLimit||0)/1024))+"MB",1)):J("",!0),(u=p.problem)!=null&&u.author?(a(),d("span",$o,"作者: "+M(p.problem.author),1)):J("",!0)],512),[[Wt,f.value]])])}}}),Ao=xe(Eo,[["__scopeId","data-v-a05aac5a"]]),Oo={class:"choice-question"},Lo={class:"section-title options-title"},Po={key:0,class:"helper-text"},Bo={key:1,class:"helper-text"},xo={class:"options-container"},No={class:"option-content-wrapper"},Ro={class:"option-key"},Do=["innerHTML"],Uo=Be({name:"ChoiceQuestion",__name:"ChoiceQuestion",props:{options:{},modelValue:{},type:{}},emits:["update:modelValue","change"],setup(K,{emit:y}){const f=K,P=y,h=le(()=>f.type==="single"),p=S(f.modelValue),I=C=>{h.value&&C.length>1?p.value=[C[C.length-1]]:p.value=C,P("update:modelValue",p.value),P("change",p.value)};return Ze(()=>f.modelValue,C=>{p.value=C},{deep:!0}),(C,D)=>{const U=Z("el-checkbox"),V=Z("el-checkbox-group");return a(),d("div",Oo,[l("div",Lo,[D[1]||(D[1]=l("span",{class:"title-text"},"选项",-1)),h.value?(a(),d("span",Po," (单选题，请选择一个选项) ")):(a(),d("span",Bo," (多选题，可选择多个选项) "))]),l("div",xo,[n(V,{modelValue:p.value,"onUpdate:modelValue":D[0]||(D[0]=N=>p.value=N),class:"choice-group",onChange:I},{default:v(()=>[(a(!0),d(ye,null,Pe(C.options,N=>(a(),d("div",{key:N.id,class:"option-item"},[n(U,{label:N.optionKey},{default:v(()=>[l("div",No,[l("span",Ro,M(N.optionKey),1),l("span",{class:"option-content",innerHTML:N.optionContent},null,8,Do)])]),_:2},1032,["label"])]))),128))]),_:1},8,["modelValue"])])])}}}),Vo=xe(Uo,[["__scopeId","data-v-b5e7fe29"]]),Fo={class:"true-false-question"},Jo={class:"options-container"},jo={class:"true-false-container"},Go={class:"option-item"},Ho={class:"option-content-wrapper"},zo={class:"option-content"},qo={class:"option-item"},Wo={class:"option-content-wrapper"},Ko={class:"option-content"},Qo=Be({name:"TrueFalseQuestion",__name:"TrueFalseQuestion",props:{modelValue:{}},emits:["update:modelValue","change"],setup(K,{emit:y}){const f=K,P=y,h=S(f.modelValue),p=I=>{I.length>1?h.value=[I[I.length-1]]:h.value=I,P("update:modelValue",h.value),P("change",h.value)};return Ze(()=>f.modelValue,I=>{h.value=I},{deep:!0}),(I,C)=>{const D=Z("el-icon"),U=Z("el-checkbox"),V=Z("el-checkbox-group");return a(),d("div",Fo,[C[5]||(C[5]=l("div",{class:"section-title options-title"},[l("span",{class:"title-text"},"选项"),l("span",{class:"helper-text"}," (判断题，请选择正确或错误) ")],-1)),l("div",Jo,[l("div",jo,[n(V,{modelValue:h.value,"onUpdate:modelValue":C[0]||(C[0]=N=>h.value=N),class:"choice-group",onChange:p},{default:v(()=>[l("div",Go,[n(U,{label:"T"},{default:v(()=>[l("div",Ho,[C[2]||(C[2]=l("span",{class:"option-key"},"T",-1)),l("span",zo,[n(D,{class:"true-false-icon"},{default:v(()=>[n(w(vt))]),_:1}),C[1]||(C[1]=E(" 正确 "))])])]),_:1})]),l("div",qo,[n(U,{label:"F"},{default:v(()=>[l("div",Wo,[C[4]||(C[4]=l("span",{class:"option-key"},"F",-1)),l("span",Ko,[n(D,{class:"true-false-icon"},{default:v(()=>[n(w(Dt))]),_:1}),C[3]||(C[3]=E(" 错误 "))])])]),_:1})])]),_:1},8,["modelValue"])])])])}}}),Zo=xe(Qo,[["__scopeId","data-v-8d4446ff"]]),Yo={class:"fill-blank-question"},Xo={class:"options-container"},el={class:"fill-blank-container"},tl={key:0},ol={class:"fill-blank-header"},ll={class:"fill-blank-title"},sl={class:"fill-blank-status"},nl={class:"answer-progress"},al={key:0,class:"blank-summary"},rl={class:"blank-number"},il=Be({name:"FillBlankQuestion",__name:"FillBlankQuestion",props:{options:{},modelValue:{},singleValue:{}},emits:["update:modelValue","update:singleValue","change"],setup(K,{emit:y}){const f=K,P=y,h=le(()=>f.options&&f.options.length>0),p=S(f.modelValue||[]),I=S(f.singleValue||"");Ze(()=>f.modelValue,N=>{p.value=N||[]},{deep:!0}),Ze(()=>f.singleValue,N=>{I.value=N||""});const C=()=>{P("update:modelValue",p.value),P("change",p.value)},D=()=>{P("update:singleValue",I.value),P("change",[I.value])},U=()=>{if(!h.value)return I.value?100:0;const N=p.value.filter(Q=>Q&&Q.trim()).length;return Math.round(N/f.options.length*100)},V=N=>N===100?"success":N===0?"exception":"warning";return(N,Q)=>{const se=Z("el-tag"),g=Z("el-input"),r=Z("el-progress");return a(),d("div",Yo,[Q[3]||(Q[3]=l("div",{class:"section-title options-title"},[l("span",{class:"title-text"},"填空题"),l("span",{class:"helper-text"}," (请在下方填入您的答案) ")],-1)),l("div",Xo,[l("div",el,[Q[2]||(Q[2]=l("div",{class:"fill-blank-label"},"请在下方填入您的答案：",-1)),h.value?(a(),d("div",tl,[(a(!0),d(ye,null,Pe(N.options,(u,te)=>(a(),d("div",{key:te,class:"fill-blank-item"},[l("div",ol,[l("div",ll,"填空 #"+M(te+1),1),l("div",sl,[n(se,{type:p.value[te]?"success":"info",size:"small"},{default:v(()=>[E(M(p.value[te]?"已填写":"未填写"),1)]),_:2},1032,["type"])])]),n(g,{modelValue:p.value[te],"onUpdate:modelValue":F=>p.value[te]=F,placeholder:`请输入第${te+1}空答案`,class:"fill-blank-input",onInput:C},null,8,["modelValue","onUpdate:modelValue","placeholder"])]))),128))])):(a(),X(g,{key:1,modelValue:I.value,"onUpdate:modelValue":Q[0]||(Q[0]=u=>I.value=u),type:"textarea",rows:3,placeholder:"请输入答案",class:"fill-blank-input",onInput:D},null,8,["modelValue"])),l("div",nl,[Q[1]||(Q[1]=l("div",{class:"progress-title"},"答题进度:",-1)),n(r,{percentage:U(),format:u=>`${u}%`,status:V(U())},null,8,["percentage","format","status"]),h.value?(a(),d("div",al,[(a(!0),d(ye,null,Pe(p.value,(u,te)=>(a(),d("div",{key:te,class:"blank-item-summary"},[l("span",rl,"填空"+M(te+1)+":",1),n(se,{size:"small",type:u?"success":"info"},{default:v(()=>[E(M(u?"已填写":"未填写"),1)]),_:2},1032,["type"])]))),128))])):J("",!0)])])])])}}}),ul=xe(il,[["__scopeId","data-v-bf7dbd10"]]),dl={class:"short-answer-question"},cl={class:"options-container"},pl={class:"short-answer-container"},ml={class:"answer-progress"},vl={class:"status-info"},fl={class:"status-text"},gl={key:0,class:"word-count"},hl=Be({name:"ShortAnswerQuestion",__name:"ShortAnswerQuestion",props:{modelValue:{},maxWords:{}},emits:["update:modelValue","change"],setup(K,{emit:y}){const f=K,P=y,h=S(f.modelValue||""),p=le(()=>f.maxWords||200);Ze(()=>f.modelValue,U=>{h.value=U||""});const I=()=>{P("update:modelValue",h.value),P("change",h.value)},C=()=>h.value?Math.min(Math.round(h.value.length/p.value*100),100):0,D=U=>U===0?"exception":U<20?"warning":"success";return(U,V)=>{const N=Z("el-input"),Q=Z("el-progress");return a(),d("div",dl,[V[3]||(V[3]=l("div",{class:"section-title options-title"},[l("span",{class:"title-text"},"简答题"),l("span",{class:"helper-text"}," (请在下方详细作答) ")],-1)),l("div",cl,[l("div",pl,[V[2]||(V[2]=l("div",{class:"short-answer-label"},"请在下方作答：",-1)),n(N,{modelValue:h.value,"onUpdate:modelValue":V[0]||(V[0]=se=>h.value=se),type:"textarea",rows:6,placeholder:"请输入答案",class:"short-answer-input",onInput:I},null,8,["modelValue"]),l("div",ml,[V[1]||(V[1]=l("div",{class:"progress-title"},"答题进度:",-1)),n(Q,{percentage:C(),format:se=>`${se}%`,status:D(C())},null,8,["percentage","format","status"]),l("div",vl,[l("div",fl,M(h.value?"已作答":"未作答"),1),h.value?(a(),d("div",gl,"字数: "+M(h.value.length),1)):J("",!0)])])])])])}}}),bl=xe(hl,[["__scopeId","data-v-4d39ceaf"]]),yl={class:"objective-answer-card"},_l={class:"card-header"},wl={key:0,class:"timer-display"},Tl={class:"option-indicators"},Cl={class:"option-buttons"},kl={class:"answer-progress"},Sl={class:"option-indicators"},Il={class:"tf-buttons"},Ml={class:"answer-progress"},$l={key:2,class:"answer-status"},El={key:0,class:"blank-summary"},Al={class:"blank-number"},Ol={key:3,class:"answer-status"},Ll={class:"status-info"},Pl={class:"status-text"},Bl={key:0,class:"word-count"},xl={key:4,class:"problem-stats"},Nl={class:"stats-row"},Rl={class:"stats-item"},Dl={class:"stats-icon"},Ul={class:"stats-info"},Vl={class:"stats-value"},Fl={class:"stats-item"},Jl={class:"stats-icon"},jl={class:"stats-info"},Gl={class:"stats-value"},Hl={class:"problem-tips"},zl={class:"tips-list"},ql={key:0},Wl={key:1},Kl={key:2},Ql={key:3},Zl={key:4},Yl=Be({name:"AnswerCard",__name:"AnswerCard",props:{problemType:{},options:{},selectedOptions:{},blankAnswers:{},shortAnswer:{},elapsedTime:{},showTimer:{type:Boolean},showStats:{type:Boolean},stats:{}},emits:["update:selectedOptions"],setup(K,{emit:y}){const f=K,P=y,h={totalSubmissions:0,passRate:0},p=le(()=>f.stats||h),I=le(()=>f.blankAnswers||[]),C=le(()=>{if(!f.blankAnswers||f.blankAnswers.length===0)return 0;const g=f.blankAnswers.filter(r=>r&&r.trim()).length;return Math.round(g/f.blankAnswers.length*100)}),D=le(()=>f.shortAnswer?Math.min(Math.round(f.shortAnswer.length/200*100),100):0),U=g=>{if(!g)return;const r=[...f.selectedOptions];if(f.problemType==="single")P("update:selectedOptions",[g]);else if(f.problemType==="multiple"){const u=r.indexOf(g);u>=0?r.splice(u,1):r.push(g),P("update:selectedOptions",r)}},V=g=>{P("update:selectedOptions",[g])},N=g=>g===100?"success":g===0?"exception":"warning",Q=g=>g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),se=g=>{const r=Math.floor(g/60),u=g%60;return`${r.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`};return(g,r)=>{const u=Z("el-icon"),te=Z("el-tag"),F=Z("el-progress"),Ee=Z("el-button");return a(),d("div",yl,[l("div",_l,[r[2]||(r[2]=l("h3",null,"答题卡",-1)),g.showTimer?(a(),d("div",wl,[n(u,null,{default:v(()=>[n(w(Ut))]),_:1}),l("span",null,M(se(g.elapsedTime)),1)])):J("",!0)]),g.problemType==="single"||g.problemType==="multiple"?(a(),d(ye,{key:0},[l("div",Tl,[r[3]||(r[3]=l("div",{class:"indicator-title"},"您的选择:",-1)),l("div",Cl,[(a(!0),d(ye,null,Pe(g.options,q=>(a(),X(te,{key:q.optionKey,type:g.selectedOptions.includes(q.optionKey||"")?"primary":"info",class:"option-tag",onClick:_e=>U(q.optionKey)},{default:v(()=>[E(M(q.optionKey),1)]),_:2},1032,["type","onClick"]))),128))])]),l("div",kl,[r[4]||(r[4]=l("div",{class:"progress-title"},"答题进度:",-1)),n(F,{percentage:g.selectedOptions.length>0?100:0,format:q=>`${q}%`,status:g.selectedOptions.length>0?"success":"exception"},null,8,["percentage","format","status"])])],64)):g.problemType==="truefalse"?(a(),d(ye,{key:1},[l("div",Sl,[r[7]||(r[7]=l("div",{class:"indicator-title"},"您的选择:",-1)),l("div",Il,[n(Ee,{type:g.selectedOptions.includes("T")?"success":"default",onClick:r[0]||(r[0]=q=>V("T")),class:"tf-button"},{default:v(()=>[n(u,null,{default:v(()=>[n(w(vt))]),_:1}),r[5]||(r[5]=E(" 正确 "))]),_:1},8,["type"]),n(Ee,{type:g.selectedOptions.includes("F")?"danger":"default",onClick:r[1]||(r[1]=q=>V("F")),class:"tf-button"},{default:v(()=>[n(u,null,{default:v(()=>[n(w(Dt))]),_:1}),r[6]||(r[6]=E(" 错误 "))]),_:1},8,["type"])])]),l("div",Ml,[r[8]||(r[8]=l("div",{class:"progress-title"},"答题进度:",-1)),n(F,{percentage:g.selectedOptions.length>0?100:0,format:q=>`${q}%`,status:g.selectedOptions.length>0?"success":"exception"},null,8,["percentage","format","status"])])],64)):g.problemType==="fillblank"?(a(),d("div",$l,[r[9]||(r[9]=l("div",{class:"indicator-title"},"答题状态:",-1)),n(F,{percentage:C.value,format:q=>`${q}%`,status:N(C.value)},null,8,["percentage","format","status"]),I.value.length>0?(a(),d("div",El,[(a(!0),d(ye,null,Pe(I.value,(q,_e)=>(a(),d("div",{key:_e,class:"blank-item-summary"},[l("span",Al,"填空"+M(_e+1)+":",1),n(te,{size:"small",type:q?"success":"info"},{default:v(()=>[E(M(q?"已填写":"未填写"),1)]),_:2},1032,["type"])]))),128))])):J("",!0)])):g.problemType==="shortanswer"?(a(),d("div",Ol,[r[10]||(r[10]=l("div",{class:"indicator-title"},"答题状态:",-1)),n(F,{percentage:D.value,format:q=>`${q}%`,status:g.shortAnswer?"success":"exception"},null,8,["percentage","format","status"]),l("div",Ll,[l("div",Pl,M(g.shortAnswer?"已作答":"未作答"),1),g.shortAnswer?(a(),d("div",Bl,"字数: "+M(g.shortAnswer.length),1)):J("",!0)])])):J("",!0),g.showStats?(a(),d("div",xl,[r[13]||(r[13]=l("h4",null,"题目统计",-1)),l("div",Nl,[l("div",Rl,[l("div",Dl,[n(u,null,{default:v(()=>[n(w(Kt))]),_:1})]),l("div",Ul,[r[11]||(r[11]=l("div",{class:"stats-label"},"解答人数",-1)),l("div",Vl,M(Q(p.value.totalSubmissions)),1)])]),l("div",Fl,[l("div",Jl,[n(u,null,{default:v(()=>[n(w(vt))]),_:1})]),l("div",jl,[r[12]||(r[12]=l("div",{class:"stats-label"},"通过率",-1)),l("div",Gl,M(p.value.passRate)+"%",1)])])])])):J("",!0),l("div",Hl,[r[19]||(r[19]=l("h4",null,"答题提示",-1)),l("ul",zl,[g.problemType==="single"?(a(),d("li",ql,[n(u,null,{default:v(()=>[n(w(We))]),_:1}),r[14]||(r[14]=E(" 单选题请选择一个最佳答案 "))])):J("",!0),g.problemType==="multiple"?(a(),d("li",Wl,[n(u,null,{default:v(()=>[n(w(We))]),_:1}),r[15]||(r[15]=E(" 多选题可选择多个正确答案 "))])):J("",!0),g.problemType==="truefalse"?(a(),d("li",Kl,[n(u,null,{default:v(()=>[n(w(We))]),_:1}),r[16]||(r[16]=E(' 判断题请选择"正确"或"错误" '))])):J("",!0),g.problemType==="fillblank"?(a(),d("li",Ql,[n(u,null,{default:v(()=>[n(w(We))]),_:1}),r[17]||(r[17]=E(" 填空题请在文本框中填写答案 "))])):J("",!0),g.problemType==="shortanswer"?(a(),d("li",Zl,[n(u,null,{default:v(()=>[n(w(We))]),_:1}),r[18]||(r[18]=E(" 简答题请详细阐述您的答案 "))])):J("",!0)])])])}}}),Xl=xe(Yl,[["__scopeId","data-v-751c20d1"]]);var ft={};(function K(y,f,P,h){var p=!!(y.Worker&&y.Blob&&y.Promise&&y.OffscreenCanvas&&y.OffscreenCanvasRenderingContext2D&&y.HTMLCanvasElement&&y.HTMLCanvasElement.prototype.transferControlToOffscreen&&y.URL&&y.URL.createObjectURL),I=typeof Path2D=="function"&&typeof DOMMatrix=="function",C=function(){if(!y.OffscreenCanvas)return!1;var o=new OffscreenCanvas(1,1),t=o.getContext("2d");t.fillRect(0,0,1,1);var m=o.transferToImageBitmap();try{t.createPattern(m,"no-repeat")}catch{return!1}return!0}();function D(){}function U(o){var t=f.exports.Promise,m=t!==void 0?t:y.Promise;return typeof m=="function"?new m(o):(o(D,D),null)}var V=function(o,t){return{transform:function(m){if(o)return m;if(t.has(m))return t.get(m);var i=new OffscreenCanvas(m.width,m.height),k=i.getContext("2d");return k.drawImage(m,0,0),t.set(m,i),i},clear:function(){t.clear()}}}(C,new Map),N=function(){var o=Math.floor(16.666666666666668),t,m,i={},k=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function($){var T=Math.random();return i[T]=requestAnimationFrame(function b(O){k===O||k+o-1<O?(k=O,delete i[T],$()):i[T]=requestAnimationFrame(b)}),T},m=function($){i[$]&&cancelAnimationFrame(i[$])}):(t=function($){return setTimeout($,o)},m=function($){return clearTimeout($)}),{frame:t,cancel:m}}(),Q=function(){var o,t,m={};function i(k){function $(T,b){k.postMessage({options:T||{},callback:b})}k.init=function(b){var O=b.transferControlToOffscreen();k.postMessage({canvas:O},[O])},k.fire=function(b,O,H){if(t)return $(b,null),t;var z=Math.random().toString(36).slice(2);return t=U(function(j){function W(ee){ee.data.callback===z&&(delete m[z],k.removeEventListener("message",W),t=null,V.clear(),H(),j())}k.addEventListener("message",W),$(b,z),m[z]=W.bind(null,{data:{callback:z}})}),t},k.reset=function(){k.postMessage({reset:!0});for(var b in m)m[b](),delete m[b]}}return function(){if(o)return o;if(!P&&p){var k=["var CONFETTI, SIZE = {}, module = {};","("+K.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{o=new Worker(URL.createObjectURL(new Blob([k])))}catch($){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",$),null}i(o)}return o}}(),se={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(o,t){return t?t(o):o}function r(o){return o!=null}function u(o,t,m){return g(o&&r(o[t])?o[t]:se[t],m)}function te(o){return o<0?0:Math.floor(o)}function F(o,t){return Math.floor(Math.random()*(t-o))+o}function Ee(o){return parseInt(o,16)}function q(o){return o.map(_e)}function _e(o){var t=String(o).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:Ee(t.substring(0,2)),g:Ee(t.substring(2,4)),b:Ee(t.substring(4,6))}}function _(o){var t=u(o,"origin",Object);return t.x=u(t,"x",Number),t.y=u(t,"y",Number),t}function pe(o){o.width=document.documentElement.clientWidth,o.height=document.documentElement.clientHeight}function Se(o){var t=o.getBoundingClientRect();o.width=t.width,o.height=t.height}function Y(o){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=o,t}function ve(o,t,m,i,k,$,T,b,O){o.save(),o.translate(t,m),o.rotate($),o.scale(i,k),o.arc(0,0,1,T,b,O),o.restore()}function Ie(o){var t=o.angle*(Math.PI/180),m=o.spread*(Math.PI/180);return{x:o.x,y:o.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:o.startVelocity*.5+Math.random()*o.startVelocity,angle2D:-t+(.5*m-Math.random()*m),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:o.color,shape:o.shape,tick:0,totalTicks:o.ticks,decay:o.decay,drift:o.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:o.gravity*3,ovalScalar:.6,scalar:o.scalar,flat:o.flat}}function we(o,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var m=t.tick++/t.totalTicks,i=t.x+t.random*t.tiltCos,k=t.y+t.random*t.tiltSin,$=t.wobbleX+t.random*t.tiltCos,T=t.wobbleY+t.random*t.tiltSin;if(o.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-m)+")",o.beginPath(),I&&t.shape.type==="path"&&typeof t.shape.path=="string"&&Array.isArray(t.shape.matrix))o.fill(Ae(t.shape.path,t.shape.matrix,t.x,t.y,Math.abs($-i)*.1,Math.abs(T-k)*.1,Math.PI/10*t.wobble));else if(t.shape.type==="bitmap"){var b=Math.PI/10*t.wobble,O=Math.abs($-i)*.1,H=Math.abs(T-k)*.1,z=t.shape.bitmap.width*t.scalar,j=t.shape.bitmap.height*t.scalar,W=new DOMMatrix([Math.cos(b)*O,Math.sin(b)*O,-Math.sin(b)*H,Math.cos(b)*H,t.x,t.y]);W.multiplySelf(new DOMMatrix(t.shape.matrix));var ee=o.createPattern(V.transform(t.shape.bitmap),"no-repeat");ee.setTransform(W),o.globalAlpha=1-m,o.fillStyle=ee,o.fillRect(t.x-z/2,t.y-j/2,z,j),o.globalAlpha=1}else if(t.shape==="circle")o.ellipse?o.ellipse(t.x,t.y,Math.abs($-i)*t.ovalScalar,Math.abs(T-k)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):ve(o,t.x,t.y,Math.abs($-i)*t.ovalScalar,Math.abs(T-k)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var B=Math.PI/2*3,ne=4*t.scalar,fe=8*t.scalar,ge=t.x,be=t.y,he=5,ce=Math.PI/he;he--;)ge=t.x+Math.cos(B)*fe,be=t.y+Math.sin(B)*fe,o.lineTo(ge,be),B+=ce,ge=t.x+Math.cos(B)*ne,be=t.y+Math.sin(B)*ne,o.lineTo(ge,be),B+=ce;else o.moveTo(Math.floor(t.x),Math.floor(t.y)),o.lineTo(Math.floor(t.wobbleX),Math.floor(k)),o.lineTo(Math.floor($),Math.floor(T)),o.lineTo(Math.floor(i),Math.floor(t.wobbleY));return o.closePath(),o.fill(),t.tick<t.totalTicks}function at(o,t,m,i,k){var $=t.slice(),T=o.getContext("2d"),b,O,H=U(function(z){function j(){b=O=null,T.clearRect(0,0,i.width,i.height),V.clear(),k(),z()}function W(){P&&!(i.width===h.width&&i.height===h.height)&&(i.width=o.width=h.width,i.height=o.height=h.height),!i.width&&!i.height&&(m(o),i.width=o.width,i.height=o.height),T.clearRect(0,0,i.width,i.height),$=$.filter(function(ee){return we(T,ee)}),$.length?b=N.frame(W):j()}b=N.frame(W),O=j});return{addFettis:function(z){return $=$.concat(z),H},canvas:o,promise:H,reset:function(){b&&N.cancel(b),O&&O()}}}function Ye(o,t){var m=!o,i=!!u(t||{},"resize"),k=!1,$=u(t,"disableForReducedMotion",Boolean),T=p&&!!u(t||{},"useWorker"),b=T?Q():null,O=m?pe:Se,H=o&&b?!!o.__confetti_initialized:!1,z=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,j;function W(B,ne,fe){for(var ge=u(B,"particleCount",te),be=u(B,"angle",Number),he=u(B,"spread",Number),ce=u(B,"startVelocity",Number),rt=u(B,"decay",Number),Oe=u(B,"gravity",Number),it=u(B,"drift",Number),Xe=u(B,"colors",q),et=u(B,"ticks",Number),tt=u(B,"shapes"),ut=u(B,"scalar"),dt=!!u(B,"flat"),Me=_(B),Je=ge,je=[],ct=o.width*Me.x,Re=o.height*Me.y;Je--;)je.push(Ie({x:ct,y:Re,angle:be,spread:he,startVelocity:ce,color:Xe[Je%Xe.length],shape:tt[F(0,tt.length)],ticks:et,decay:rt,gravity:Oe,drift:it,scalar:ut,flat:dt}));return j?j.addFettis(je):(j=at(o,je,O,ne,fe),j.promise)}function ee(B){var ne=$||u(B,"disableForReducedMotion",Boolean),fe=u(B,"zIndex",Number);if(ne&&z)return U(function(ce){ce()});m&&j?o=j.canvas:m&&!o&&(o=Y(fe),document.body.appendChild(o)),i&&!H&&O(o);var ge={width:o.width,height:o.height};b&&!H&&b.init(o),H=!0,b&&(o.__confetti_initialized=!0);function be(){if(b){var ce={getBoundingClientRect:function(){if(!m)return o.getBoundingClientRect()}};O(ce),b.postMessage({resize:{width:ce.width,height:ce.height}});return}ge.width=ge.height=null}function he(){j=null,i&&(k=!1,y.removeEventListener("resize",be)),m&&o&&(document.body.contains(o)&&document.body.removeChild(o),o=null,H=!1)}return i&&!k&&(k=!0,y.addEventListener("resize",be,!1)),b?b.fire(B,ge,he):W(B,ge,he)}return ee.reset=function(){b&&b.reset(),j&&j.reset()},ee}var ue;function Te(){return ue||(ue=Ye(null,{useWorker:!0,resize:!0})),ue}function Ae(o,t,m,i,k,$,T){var b=new Path2D(o),O=new Path2D;O.addPath(b,new DOMMatrix(t));var H=new Path2D;return H.addPath(O,new DOMMatrix([Math.cos(T)*k,Math.sin(T)*k,-Math.sin(T)*$,Math.cos(T)*$,m,i])),H}function Ce(o){if(!I)throw new Error("path confetti are not supported in this browser");var t,m;typeof o=="string"?t=o:(t=o.path,m=o.matrix);var i=new Path2D(t),k=document.createElement("canvas"),$=k.getContext("2d");if(!m){for(var T=1e3,b=T,O=T,H=0,z=0,j,W,ee=0;ee<T;ee+=2)for(var B=0;B<T;B+=2)$.isPointInPath(i,ee,B,"nonzero")&&(b=Math.min(b,ee),O=Math.min(O,B),H=Math.max(H,ee),z=Math.max(z,B));j=H-b,W=z-O;var ne=10,fe=Math.min(ne/j,ne/W);m=[fe,0,0,fe,-Math.round(j/2+b)*fe,-Math.round(W/2+O)*fe]}return{type:"path",path:t,matrix:m}}function de(o){var t,m=1,i="#000000",k='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof o=="string"?t=o:(t=o.text,m="scalar"in o?o.scalar:m,k="fontFamily"in o?o.fontFamily:k,i="color"in o?o.color:i);var $=10*m,T=""+$+"px "+k,b=new OffscreenCanvas($,$),O=b.getContext("2d");O.font=T;var H=O.measureText(t),z=Math.ceil(H.actualBoundingBoxRight+H.actualBoundingBoxLeft),j=Math.ceil(H.actualBoundingBoxAscent+H.actualBoundingBoxDescent),W=2,ee=H.actualBoundingBoxLeft+W,B=H.actualBoundingBoxAscent+W;z+=W+W,j+=W+W,b=new OffscreenCanvas(z,j),O=b.getContext("2d"),O.font=T,O.fillStyle=i,O.fillText(t,ee,B);var ne=1/m;return{type:"bitmap",bitmap:b.transferToImageBitmap(),matrix:[ne,0,0,ne,-z*ne/2,-j*ne/2]}}f.exports=function(){return Te().apply(this,arguments)},f.exports.reset=function(){Te().reset()},f.exports.create=Ye,f.exports.shapeFromPath=Ce,f.exports.shapeFromText=de})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ft,!1);const es=ft.exports;ft.exports.create;function ts(K=160,y=.75){const f={width:window.innerWidth,height:window.innerHeight,screenWidth:screen.width,screenHeight:screen.height,heightDiff:screen.height-window.innerHeight,widthDiff:screen.width-window.innerWidth,heightRatio:window.innerHeight/screen.height},P=f.heightDiff>K||f.widthDiff>K,h=f.heightRatio<y;let p=!1,I="none";return P?(p=!0,I="size"):h&&(p=!0,I="ratio"),{isOpen:p,method:I,windowInfo:f}}function os(K,y={}){const{threshold:f=160,ratioThreshold:P=.75,debounceDelay:h=100}=y;let p=null,I=null;const C=()=>{const U=ts(f,P);(!I||I.isOpen!==U.isOpen)&&(K(U),I=U)},D=()=>{p&&clearTimeout(p),p=window.setTimeout(C,h)};return C(),window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D),p&&clearTimeout(p)}}const ls={key:0,class:"debug-info"},ss={class:"debug-section"},ns={key:1,class:"loading-container"},as={class:"problem-drawer-content"},rs={key:0,class:"problem-tabs"},is=["onClick"],us={class:"tab-index"},ds={class:"tab-title"},cs={class:"problem-submit-content"},ps={class:"problem-detail-panel"},ms={class:"problem-header"},vs={class:"scene-type-wrapper"},fs={class:"problem-content"},gs={key:0,class:"programming-problem"},hs={class:"content-section"},bs={class:"section-header"},ys={key:0,class:"markdown-content",ref:"descriptionContent"},_s={key:0,class:"io-description-row"},ws={key:0,class:"io-description-col"},Ts={class:"section-header"},Cs={class:"markdown-content",ref:"inputContent"},ks={key:1,class:"io-description-col"},Ss={class:"section-header"},Is={class:"markdown-content",ref:"outputContent"},Ms={key:1,class:"content-section"},$s={class:"section-header"},Es={class:"markdown-content example-content",ref:"examplesContent"},As={key:2,class:"content-section"},Os={class:"section-header"},Ls={class:"markdown-content",ref:"hintContent"},Ps={key:1,class:"objective-problem"},Bs={class:"content-section"},xs={class:"section-header"},Ns={key:0,class:"markdown-content",ref:"descriptionContent"},Rs={class:"options-container"},Ds={class:"code-submit-panel"},Us={key:0,class:"code-editor-wrapper"},Vs={key:0,class:"problem-timer-info"},Fs={class:"problem-timer-item"},Js={class:"timer-value"},js={class:"problem-timer-item"},Gs={class:"timer-value"},Hs={class:"submit-actions"},zs={class:"submit-action-group"},qs={key:1,class:"tabs-mini-preview"},Ws=["onClick"],Ks={class:"navigation-actions"},Qs={key:0,class:"problem-position"},Zs={class:"submit-btn-status-group"},Ys={key:2,class:"judge-status-wrapper"},Rt="problem_timer_data",Xs=Be({name:"ProblemSubmitView",__name:"index",setup(K){const y=Qt(),f=Zt(),P=le(()=>Number(y.params.id)),h=le(()=>y.query.topicId?Number(y.query.topicId):0),p=le(()=>y.query.judgeSceneType||Le.Normal.code),I=window,C=le(()=>co(y.query.judgeSceneType)||Le.Normal);le(()=>y.query.isExpired==="1"),le(()=>y.query.expirationType||"");const D=S(!1),U=S(!0),V=S(!1),N=S(!1),Q=S(!0),se=S([]),g=S({}),r=S([]),u=S(-1),te=S(!1),F=S(null),Ee=S(!1),q=S(null),_e=S(!1),_=S({}),pe=S([]),Se=S([]),Y=S([]),ve=S([]),Ie=S(""),we=S(""),at=Pt({totalSubmissions:1250,passRate:65,averageTime:5.2}),Ye=S(!0),ue=S(0),Te=S(!1),Ae=S(!1),Ce=S(0),de=S(null);S(!1);const o=S(ie.STATUS_NULL.code),t=S(!1),m=S(!1),i=Pt({problemId:0,language:Ke.CPP,code:"",judgeSceneType:String(Le.Normal.code),submitType:String(Qe.NORMAL_JUDGE.code),businessId:0,isRemote:!1,problemType:String(R.PROGRAMMING.code)}),k=async()=>{var s,e,c,x;U.value=!0,V.value=!1;try{console.log("获取题目详情，题目ID:",P.value);const A=await po({id:P.value});if(console.log("获取到的题目详情:",A),A!=null&&A.data){if(console.log("题目数据详情:",JSON.stringify(A.data)),_.value=A.data,!_.value.problemBo){G.error("获取题目详情失败：题目数据格式不正确"),V.value=!0,U.value=!1;return}console.log("题目类型:",_.value.problemBo.problemType,"类型:",typeof _.value.problemBo.problemType),A.data.tagList&&Array.isArray(A.data.tagList)&&(se.value=A.data.tagList),A.data.codeTemplates&&Array.isArray(A.data.codeTemplates)&&(Se.value=A.data.codeTemplates,console.log("获取到代码模板:",Se.value),T()&&z(i.language)),i.problemId=((s=_.value.problemBo)==null?void 0:s.id)||0,i.problemType=String(((e=_.value.problemBo)==null?void 0:e.problemType)||R.PROGRAMMING.code),C.value!==Le.Normal?i.businessId=h.value:i.businessId=((c=_.value.problemBo)==null?void 0:c.id)||0;const oe=T();i.submitType=String(oe?Qe.NORMAL_JUDGE.code:Qe.FIXED_JUDGE.code),console.log("设置提交类型:",i.submitType,"是编程题:",oe),console.log("题目判断结果是否为编程题:",oe),A.data.options&&Array.isArray(A.data.options)&&(pe.value=A.data.options||[],console.log("从options获取选项数据:",pe.value)),((x=_.value.problemBo)==null?void 0:x.problemType)===R.FILL_BLANK.code&&(ve.value=new Array(pe.value.length).fill("")),!oe&&(A.data.isSubmitted===!0||A.data.hasSubmit===!0)&&(te.value=!0,(A.data.submittedAnswer||A.data.lastSubmit)&&(F.value=A.data.submittedAnswer||A.data.lastSubmit,console.log("获取到之前提交的答案:",F.value),$())),U.value=!1}else V.value=!0,G.error("获取题目详情失败：无数据"),U.value=!1}catch(A){console.error("获取题目详情失败",A),G.error("获取题目详情失败：请求错误"),V.value=!0,U.value=!1}},$=()=>{var s;if(F.value)try{const e=(s=_.value.problemBo)==null?void 0:s.problemType;[R.SINGLE_CHOICE.code,R.MULTIPLE_CHOICE.code].includes(e||"")?F.value.selectedOptions?Y.value=F.value.selectedOptions:F.value.replyOptions&&(Y.value=F.value.replyOptions.filter(c=>c.answer).map(c=>c.optionKey)):e===R.TRUE_FALSE.code?F.value.selectedOptions?Y.value=F.value.selectedOptions:F.value.replyOptions&&F.value.replyOptions.length>0&&(Y.value=[F.value.replyOptions[0].optionKey]):e===R.FILL_BLANK.code?(F.value.blankAnswers?ve.value=F.value.blankAnswers:F.value.replyOptions&&(ve.value=F.value.replyOptions.map(c=>c.optionContent||"")),ve.value.length===1&&(Ie.value=ve.value[0])):e===R.SHORT_ANSWER.code&&(F.value.shortAnswer?we.value=F.value.shortAnswer:F.value.replyOptions&&F.value.replyOptions.length>0&&(we.value=F.value.replyOptions[0].optionContent||"")),console.log("已恢复之前提交的答案")}catch(e){console.error("恢复之前提交的答案失败",e)}},T=()=>{var e;return((e=_.value.problemBo)==null?void 0:e.problemType)===R.PROGRAMMING.code},b=le(()=>T()),O=s=>{i.code=s},H=s=>{const e=st(s);i.language=e,console.log("语言已切换为:",e),Ee.value=!0,q.value&&clearTimeout(q.value),q.value=setTimeout(()=>{z(e),q.value=null},50)},z=s=>{if(!Se.value.length||!T())return;if(_e.value){console.log("模板填充操作正在进行中，跳过重复调用");return}_e.value=!0;const e=st(s);console.log("寻找语言模板匹配:",e),console.log("可用模板列表:",Se.value.map(x=>x.name)),console.log("当前代码内容长度:",i.code.length);let c=Se.value.find(x=>{if(!x.name)return!1;if(e===Ke.CPP&&x.name==="C++"||e===Ke.CPP&&x.name==="C")return x.name==="C++";const oe=st(x.name)===e;return oe&&console.log(`严格匹配成功: 模板"${x.name}"匹配语言${e}`),oe});if(c||(c=Se.value.find(x=>{if(!x.name)return!1;if(e===Ke.CPP)return x.name==="C++";const A=x.name.toLowerCase(),oe=e.toLowerCase();return A===oe?(console.log(`完全相等匹配: 模板"${x.name}"匹配语言${e}`),!0):!1})),c||(c=Se.value.find(x=>x.name&&ro(x.name,e)?(console.log(`兼容性匹配: 模板"${x.name}"兼容语言${e}`),!0):!1)),c&&c.code){console.log("找到匹配的代码模板:",c.name),console.log("模板代码长度:",c.code.length),console.log("模板代码前20个字符:",c.code.substring(0,20));const x=i.code;i.code=c.code,console.log("已强制应用代码模板到编辑器，模板名称:",c.name),console.log("应用后代码长度:",i.code.length),console.log("应用后代码前20个字符:",i.code.substring(0,20)),x===i.code&&console.warn("代码没有变化，可能未成功应用模板"),Nt(()=>{i.code!==c.code?(console.warn("代码模板可能未正确应用，再次尝试"),i.code=c.code||"",console.log("二次应用后代码长度:",i.code.length)):console.log("代码模板应用成功"),_e.value=!1})}else console.log("未找到匹配的代码模板，语言:",e),_e.value=!1},j=s=>{if(console.log("收到评测结果:",s,Ce.value),s.id!==Ce.value){console.log("非当前提交的评测结果，忽略");return}if(Ae.value){console.log("已处理过该评测结果，忽略重复消息");return}if(console.log("收到评测结果 ID:",s.id,Ce.value),de.value&&(clearTimeout(de.value),de.value=null),Te.value=!1,Ae.value=!0,D.value=!1,t.value=!1,o.value=s.status,s.status===ie.STATUS_ACCEPTED.code)G.success(`恭喜！${ie.STATUS_ACCEPTED.tooltip}：${ie.STATUS_ACCEPTED.text}`),es({particleCount:100,spread:70,origin:{y:.6}});else{const e=Object.values(ie).find(x=>Number(x.code)===Number(s.status))||ie.STATUS_NULL,c=s.errorMessage||`${e.tooltip}：${e.text}`;G.error(c)}},W=()=>{setTimeout(()=>{!Ae.value&&Te.value&&(t.value=!0,G.info("评测时间较长，您可以点击按钮主动查询结果"))},5e3);const s=()=>{de.value=setTimeout(()=>{!Ae.value&&Te.value&&uo.confirm('评测结果还未返回，您可以选择继续等待或点击下方的"查询测评结果"按钮主动查询。',"评测超时提示",{confirmButtonText:"继续等待",cancelButtonText:"取消等待",type:"warning",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1}).then(()=>{s()}).catch(()=>{Te.value=!1,D.value=!1,t.value=!1,G.info("已取消等待评测结果"),o.value=ie.STATUS_NULL.code})},1e4)};s()},ee=async()=>{if(!(m.value||!Ce.value)){m.value=!0;try{console.log("主动查询测评结果，ID:",Ce.value);const s=await mo({id:Ce.value});if(console.log("查询到的测评结果:",s),s!=null&&s.data){const e={id:Ce.value,status:s.data.status,errorMessage:s.data.errorMessage};j(e),t.value=!1,de.value&&(clearTimeout(de.value),de.value=null)}else G.warning("未获取到测评结果，请稍后再试")}catch(s){console.error("查询测评结果失败:",s),G.error("查询测评结果失败，请稍后再试")}finally{m.value=!1}}},B=async()=>{var s,e,c,x,A,oe,ae;if(!D.value){if(b.value){if(!i.code.trim()){G.warning("请编写代码后提交");return}}else{let re=!1,me=[];if([R.SINGLE_CHOICE.code,R.MULTIPLE_CHOICE.code].includes(((s=_.value.problemBo)==null?void 0:s.problemType)||"")){if(Y.value.length===0){G.warning("请选择答案后提交");return}me=pe.value.map(ke=>({id:ke.id,optionKey:ke.optionKey,optionContent:ke.optionContent,answer:Y.value.includes(ke.optionKey||"")})),re=!0}else if(((e=_.value.problemBo)==null?void 0:e.problemType)===R.TRUE_FALSE.code){if(Y.value.length===0){G.warning("请选择正确或错误");return}me=[{optionKey:Y.value[0],answer:!0}],re=!0}else if(((c=_.value.problemBo)==null?void 0:c.problemType)===R.FILL_BLANK.code){if(pe.value.length>0){const ke=ve.value.filter(De=>!De.trim());if(ke.length>0){G.warning(`请填写所有答案 (还有${ke.length}个填空未完成)`);return}me=ve.value.map((De,He)=>{var ze,qe;return{id:(ze=pe.value[He])==null?void 0:ze.id,optionKey:(qe=pe.value[He])==null?void 0:qe.optionKey,optionContent:De,answer:!0}})}else{if(!Ie.value.trim()){G.warning("请填写答案");return}me=[{optionContent:Ie.value,answer:!0}]}re=!0}else if(((x=_.value.problemBo)==null?void 0:x.problemType)===R.SHORT_ANSWER.code){if(!we.value.trim()){G.warning("请填写答案");return}me=[{optionContent:we.value,answer:!0}],re=!0}re&&(i.replyOptions=me)}i.problemId=((A=_.value.problemBo)==null?void 0:A.id)||0,i.problemType=String(((oe=_.value.problemBo)==null?void 0:oe.problemType)||R.PROGRAMMING.code),i.submitType=b.value?String(Qe.NORMAL_JUDGE.code):String(Qe.FIXED_JUDGE.code),i.language=st(i.language),((ae=C.value)==null?void 0:ae.code)!==Le.Normal.code&&(i.currentProblemCostTime=ue.value,i.totalCostTime=$e.value,console.log(`添加耗时信息: 单题耗时=${ue.value}秒, 总耗时=${$e.value}秒`)),D.value=!0,Te.value=!0,Ae.value=!1,o.value=ie.STATUS_SUBMITTING.code;try{console.log("提交评测，参数:",i);const re=await wo(i);console.log("提交评测结果:",re),G.success(`${ie.STATUS_SUBMITTING.tooltip}，${ie.STATUS_JUDGING.tooltip}...`),Ce.value=re.data.id,o.value=ie.STATUS_JUDGING.code,io().open(),W(),Xe()}catch(re){console.error("提交失败",re),G.error(`${ie.STATUS_SUBMITTED_FAILED.tooltip}：${ie.STATUS_SUBMITTED_FAILED.text}`),Te.value=!1,D.value=!1,o.value=ie.STATUS_SUBMITTED_FAILED.code}}},ne=()=>{o.value=ie.STATUS_NULL.code,Te.value=!1,Ae.value=!1,t.value=!1,m.value=!1,de.value&&(clearTimeout(de.value),de.value=null)},fe=()=>{try{if(y.query.totalProblems){const s=parseInt(y.query.totalProblems,10);console.log("题目总数:",s)}y.query.problemIndex&&(u.value=parseInt(y.query.problemIndex,10),console.log("当前题目索引:",u.value))}catch(s){console.error("解析题目索引出错:",s),G.warning("题目索引数据格式错误")}},ge=()=>{if(r.value.length===0||u.value<=0){G.info("已经是第一题");return}const s=u.value-1,e=r.value[s];if(!e||!e.id){G.warning("上一题数据不完整");return}he(e,s)},be=()=>{if(r.value.length===0||u.value>=r.value.length-1){G.info("已经是最后一题");return}const s=u.value+1,e=r.value[s];if(!e||!e.id){G.warning("下一题数据不完整");return}he(e,s)},he=(s,e)=>{ce(),f.push({path:`/oj/problem/submit/${s.id}`,query:{topicId:y.query.topicId,judgeSceneType:y.query.judgeSceneType,topicType:y.query.topicType,isExpired:y.query.isExpired,timeRangeType:y.query.timeRangeType,problemIndex:e.toString(),totalProblems:r.value.length.toString()}})};Yt(()=>{ne(),lt=os(Vt,{threshold:160,ratioThreshold:.75,debounceDelay:100}),P.value?(h.value?(i.businessId=h.value,i.judgeSceneType=String(p.value),console.log(`从主题页面跳转: 主题ID=${h.value}, 场景类型=${p.value}`),rt(),dt()):(console.log("直接访问题目，无主题ID"),r.value=[]),fe(),k(),it(),Bt.on(`socket.${xt.JUDGE_NOTIFY.code}`,j)):(G.error("题目ID无效"),f.push("/oj/problem/problem"))});const ce=()=>{if(!h.value)return;const s={topicId:h.value,problemId:P.value,elapsedTime:ue.value,totalTime:$e.value,timestamp:Date.now()};localStorage.setItem(Rt,JSON.stringify(s))},rt=()=>{if(h.value)try{const s=localStorage.getItem(Rt);if(!s)return;const e=JSON.parse(s);e.topicId===h.value&&($e.value=e.totalTime||0,e.problemId===P.value?ue.value=e.elapsedTime||0:ue.value=0,console.log(`加载计时数据: 题目耗时=${ue.value}秒, 总耗时=${$e.value}秒`))}catch(s){console.error("加载计时数据失败:",s),ue.value=0,$e.value=0}};let Oe=null;const it=()=>{Oe&&clearInterval(Oe),Oe=window.setInterval(()=>{var s;ue.value++,((s=C.value)==null?void 0:s.code)!==Le.Normal.code&&($e.value++,$e.value%60===0&&ce())},1e3)};Xt(()=>{Oe&&(clearInterval(Oe),Oe=null),ce(),lt&&(lt(),lt=null),Bt.off(`socket.${xt.JUDGE_NOTIFY.code}`,j),de.value&&(clearTimeout(de.value),de.value=null)});const Xe=()=>{ue.value=0,ce()};eo(()=>{var s,e;((e=(s=_.value)==null?void 0:s.problemBo)==null?void 0:e.problemType)===R.SINGLE_CHOICE.code&&Y.value.length>1&&(Y.value=[Y.value[Y.value.length-1]])});const et=s=>{const e=Math.floor(s/60),c=s%60;return`${e.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`},tt=()=>{var e;const s=(e=_.value.problemBo)==null?void 0:e.problemType;return s===R.SINGLE_CHOICE.code?"single":s===R.MULTIPLE_CHOICE.code?"multiple":s===R.TRUE_FALSE.code?"truefalse":s===R.FILL_BLANK.code?"fillblank":(s===R.SHORT_ANSWER.code,"shortanswer")},ut=s=>{s.length===1&&!pe.value.length&&(Ie.value=s[0])};Object.values(Ke).map(s=>({label:s,value:s}));const dt=async()=>{if(h.value)try{const s=await go({id:h.value});if(g.value=s.data,s.data.problemList&&s.data.problemList.length>0){if(r.value=s.data.problemList,console.log("获取到主题题目列表:",r.value.length,"题"),u.value>=r.value.length&&(u.value=0,console.warn("当前题目索引超出范围，重置为0")),P.value){const e=r.value.findIndex(c=>c.id===Number(P.value));e!==-1&&e!==u.value&&(console.log(`找到当前题目在列表中的位置: ${e}，更新索引`),u.value=e)}}else r.value=[],console.log("主题没有题目列表")}catch(s){console.error("获取主题详情失败:",s),G.error("获取主题详情失败")}},Me=s=>{var x,A,oe,ae,re;let e="";switch(s){case"description":e=((x=_.value.problemBo)==null?void 0:x.description)||"";break;case"input":e=((A=_.value.problemBo)==null?void 0:A.input)||"";break;case"output":e=((oe=_.value.problemBo)==null?void 0:oe.output)||"";break;case"examples":e=((ae=_.value.problemBo)==null?void 0:ae.examples)||"";break;case"hint":e=((re=_.value.problemBo)==null?void 0:re.hint)||"";break;default:e=""}if(!e.trim()){G.warning("该部分内容为空");return}const c=e.replace(/```[\s\S]*?```/g,me=>me.replace(/```[\w]*\n?/g,"").replace(/```$/g,"")).replace(/`([^`]+)`/g,"$1").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/#{1,6}\s+/g,"").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/!\[([^\]]*)\]\([^)]+\)/g,"$1").trim();navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(c).then(()=>{G.success("内容已复制到剪贴板")}).catch(me=>{console.warn("Clipboard API 复制失败，尝试降级方案",me),Je(c)}):Je(c)},Je=s=>{const e=document.createElement("textarea");if(e.value=s,e.style.fontSize="16px",e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),navigator.userAgent.match(/ipad|ipod|iphone/i)){const c=document.createRange();c.selectNodeContents(e);const x=window.getSelection();x&&(x.removeAllRanges(),x.addRange(c)),e.setSelectionRange(0,999999)}else e.select();try{document.execCommand("copy")?G.success("内容已复制到剪贴板"):G.error("复制失败，请手动复制")}catch(c){console.error("复制操作失败",c),G.error("复制失败，请手动复制")}document.body.removeChild(e)},je=()=>{B()},ct=()=>{B()};le(()=>!!i.code.trim()),le(()=>{var e;const s=(e=_.value.problemBo)==null?void 0:e.problemType;return[R.SINGLE_CHOICE.code,R.MULTIPLE_CHOICE.code,R.TRUE_FALSE.code].includes(s||"")?Y.value.length>0:s===R.FILL_BLANK.code?pe.value.length>0?ve.value.every(c=>!!c.trim()):!!Ie.value.trim():s===R.SHORT_ANSWER.code?!!we.value.trim():!1});const Re=S(!1),$e=S(0),ot=S(!1),gt=S(window.innerHeight),ht=S(window.innerWidth),Ge=S(null),Vt=s=>{const e=ot.value;ot.value=s.isOpen,Ge.value=s,gt.value=s.windowInfo.height,ht.value=s.windowInfo.width,e!==s.isOpen&&(console.log("控制台状态变化:",{isOpen:s.isOpen,method:s.method,windowInfo:s.windowInfo}),Nt(()=>{}))};let lt=null;return(s,e)=>{var re,me,ke,De,He,ze,qe,bt,yt,_t,wt,Tt,Ct,kt,St,It,Mt,$t,Et,At,Ot,Lt;const c=Z("el-button"),x=Z("el-skeleton"),A=Z("el-empty"),oe=Z("el-drawer"),ae=Z("el-icon");return a(),d("div",{class:pt(["problem-submit-container",{"devtools-open":ot.value}])},[N.value?(a(),d("div",ls,[l("h3",null,[e[21]||(e[21]=E(" 调试信息 ")),n(c,{size:"small",onClick:e[0]||(e[0]=L=>N.value=!1)},{default:v(()=>e[20]||(e[20]=[E(" 关闭 ")])),_:1})]),l("div",null,[e[29]||(e[29]=l("h4",null,"控制台检测状态",-1)),l("div",ss,[l("p",null,[e[22]||(e[22]=l("strong",null,"控制台状态:",-1)),E(" "+M(ot.value?"已打开":"未打开"),1)]),l("p",null,[e[23]||(e[23]=l("strong",null,"检测方法:",-1)),E(" "+M(((re=Ge.value)==null?void 0:re.method)||"none"),1)]),l("p",null,[e[24]||(e[24]=l("strong",null,"窗口尺寸:",-1)),E(" "+M(ht.value)+"x"+M(gt.value),1)]),l("p",null,[e[25]||(e[25]=l("strong",null,"屏幕尺寸:",-1)),E(" "+M(w(I).screen.width)+"x"+M(w(I).screen.height),1)]),l("p",null,[e[26]||(e[26]=l("strong",null,"高度差异:",-1)),E(" "+M(((ke=(me=Ge.value)==null?void 0:me.windowInfo)==null?void 0:ke.heightDiff)||0)+"px",1)]),l("p",null,[e[27]||(e[27]=l("strong",null,"宽度差异:",-1)),E(" "+M(((He=(De=Ge.value)==null?void 0:De.windowInfo)==null?void 0:He.widthDiff)||0)+"px",1)]),l("p",null,[e[28]||(e[28]=l("strong",null,"高度比例:",-1)),E(" "+M(((bt=(qe=(ze=Ge.value)==null?void 0:ze.windowInfo)==null?void 0:qe.heightRatio)==null?void 0:bt.toFixed(3))||"0.000"),1)])]),e[30]||(e[30]=l("h4",null,"题目数据",-1)),l("pre",null,M(JSON.stringify(_.value,null,2)),1),e[31]||(e[31]=l("h4",null,"ProblemType枚举",-1)),l("pre",null,M(JSON.stringify(w(R),null,2)),1)])])):J("",!0),U.value?(a(),d("div",ns,[n(x,{rows:10,animated:""})])):V.value?(a(),X(A,{key:2,description:"题目数据加载失败，请重试",class:"empty-container"},{default:v(()=>[n(c,{type:"primary",onClick:k},{default:v(()=>e[32]||(e[32]=[E(" 重新加载 ")])),_:1}),n(c,{onClick:e[1]||(e[1]=L=>N.value=!0)},{default:v(()=>e[33]||(e[33]=[E(" 显示调试信息 ")])),_:1})]),_:1})):(yt=_.value.problemBo)!=null&&yt.id?(a(),d(ye,{key:3},[n(oe,{modelValue:Re.value,"onUpdate:modelValue":e[2]||(e[2]=L=>Re.value=L),title:"题目列表",size:"300px","show-close":!0,direction:"rtl"},{default:v(()=>[l("div",as,[r.value.length>0?(a(),d("div",rs,[(a(!0),d(ye,null,Pe(r.value,(L,Ne)=>(a(),d("div",{key:L.id,class:pt(["problem-tab-item",{active:Ne===u.value}]),onClick:Ft=>he(L,Ne)},[l("div",us," #"+M(Ne+1),1),l("div",ds,M(L.title),1)],10,is))),128))])):(a(),X(A,{key:1,description:"无题目数据"}))])]),_:1},8,["modelValue"]),l("div",cs,[l("div",ps,[l("div",ms,[n(w(Ao),{problem:_.value.problemBo,"initial-show-info":Q.value,"onUpdate:initialShowInfo":e[3]||(e[3]=L=>Q.value=L)},{sceneType:v(()=>[l("div",vs,[n(nt,{class:"scene-type-tag",code:p.value,enum:w(Le)},null,8,["code","enum"])])]),tags:v(()=>[n(_o,{"tag-list":se.value},null,8,["tag-list"])]),_:1},8,["problem","initial-show-info"])]),l("div",fs,[T()?(a(),d("div",gs,[l("div",hs,[l("div",bs,[e[35]||(e[35]=l("div",{class:"section-title"}," 题目描述 ",-1)),n(c,{type:"text",onClick:e[4]||(e[4]=L=>Me("description")),class:"copy-btn"},{default:v(()=>[n(ae,null,{default:v(()=>[n(w(Ue))]),_:1}),e[34]||(e[34]=E(" 复制 "))]),_:1})]),(_t=_.value.problemBo)!=null&&_t.description?(a(),d("div",ys,[n(Ve,{"model-value":_.value.problemBo.description,height:"auto"},null,8,["model-value"])],512)):(a(),X(A,{key:1,description:"无题目描述"}))]),(wt=_.value.problemBo)!=null&&wt.input||(Tt=_.value.problemBo)!=null&&Tt.output?(a(),d("div",_s,[(Ct=_.value.problemBo)!=null&&Ct.input?(a(),d("div",ws,[l("div",Ts,[e[37]||(e[37]=l("div",{class:"section-title"}," 输入描述 ",-1)),n(c,{type:"text",onClick:e[5]||(e[5]=L=>Me("input")),class:"copy-btn"},{default:v(()=>[n(ae,null,{default:v(()=>[n(w(Ue))]),_:1}),e[36]||(e[36]=E(" 复制 "))]),_:1})]),l("div",Cs,[n(Ve,{"model-value":_.value.problemBo.input,height:"auto"},null,8,["model-value"])],512)])):J("",!0),(kt=_.value.problemBo)!=null&&kt.output?(a(),d("div",ks,[l("div",Ss,[e[39]||(e[39]=l("div",{class:"section-title"}," 输出描述 ",-1)),n(c,{type:"text",onClick:e[6]||(e[6]=L=>Me("output")),class:"copy-btn"},{default:v(()=>[n(ae,null,{default:v(()=>[n(w(Ue))]),_:1}),e[38]||(e[38]=E(" 复制 "))]),_:1})]),l("div",Is,[n(Ve,{"model-value":_.value.problemBo.output,height:"auto"},null,8,["model-value"])],512)])):J("",!0)])):J("",!0),(St=_.value.problemBo)!=null&&St.examples?(a(),d("div",Ms,[l("div",$s,[e[41]||(e[41]=l("div",{class:"section-title"}," 示例 ",-1)),n(c,{type:"text",onClick:e[7]||(e[7]=L=>Me("examples")),class:"copy-btn"},{default:v(()=>[n(ae,null,{default:v(()=>[n(w(Ue))]),_:1}),e[40]||(e[40]=E(" 复制 "))]),_:1})]),l("div",Es,[n(Ve,{"model-value":_.value.problemBo.examples,"show-code-row-number":!1,height:"auto"},null,8,["model-value"])],512)])):J("",!0),(It=_.value.problemBo)!=null&&It.hint?(a(),d("div",As,[l("div",Os,[e[43]||(e[43]=l("div",{class:"section-title"}," 提示 ",-1)),n(c,{type:"text",onClick:e[8]||(e[8]=L=>Me("hint")),class:"copy-btn"},{default:v(()=>[n(ae,null,{default:v(()=>[n(w(Ue))]),_:1}),e[42]||(e[42]=E(" 复制 "))]),_:1})]),l("div",Ls,[n(Ve,{"model-value":_.value.problemBo.hint,height:"auto"},null,8,["model-value"])],512)])):J("",!0)])):(a(),d("div",Ps,[l("div",Bs,[l("div",xs,[e[45]||(e[45]=l("div",{class:"section-title"}," 题目描述 ",-1)),n(c,{type:"text",onClick:e[9]||(e[9]=L=>Me("description")),class:"copy-btn"},{default:v(()=>[n(ae,null,{default:v(()=>[n(w(Ue))]),_:1}),e[44]||(e[44]=E(" 复制 "))]),_:1})]),(Mt=_.value.problemBo)!=null&&Mt.description?(a(),d("div",Ns,[n(Ve,{"model-value":_.value.problemBo.description,height:"auto"},null,8,["model-value"])],512)):(a(),X(A,{key:1,description:"无题目描述"}))]),l("div",Rs,[[w(R).SINGLE_CHOICE.code,w(R).MULTIPLE_CHOICE.code].includes((($t=_.value.problemBo)==null?void 0:$t.problemType)||"")?(a(),X(w(Vo),{key:0,options:pe.value,modelValue:Y.value,"onUpdate:modelValue":e[10]||(e[10]=L=>Y.value=L),type:((Et=_.value.problemBo)==null?void 0:Et.problemType)===w(R).SINGLE_CHOICE.code?"single":"multiple"},null,8,["options","modelValue","type"])):((At=_.value.problemBo)==null?void 0:At.problemType)===w(R).TRUE_FALSE.code?(a(),X(w(Zo),{key:1,modelValue:Y.value,"onUpdate:modelValue":e[11]||(e[11]=L=>Y.value=L)},null,8,["modelValue"])):((Ot=_.value.problemBo)==null?void 0:Ot.problemType)===w(R).FILL_BLANK.code?(a(),X(w(ul),{key:2,options:pe.value,modelValue:ve.value,"onUpdate:modelValue":e[12]||(e[12]=L=>ve.value=L),"single-value":Ie.value,"onUpdate:singleValue":e[13]||(e[13]=L=>Ie.value=L),onChange:ut},null,8,["options","modelValue","single-value"])):((Lt=_.value.problemBo)==null?void 0:Lt.problemType)===w(R).SHORT_ANSWER.code?(a(),X(w(bl),{key:3,modelValue:we.value,"onUpdate:modelValue":e[14]||(e[14]=L=>we.value=L),"max-words":500},null,8,["modelValue"])):J("",!0)])]))])]),l("div",Ds,[T()?(a(),d("div",Us,[n(lo,{modelValue:i.code,"onUpdate:modelValue":e[15]||(e[15]=L=>i.code=L),"default-code-mode":w(oo).OJ.code.toString(),language:i.language,"read-only-prop":!1,theme:"light","default-font-size":14,"default-tab-size":4,onChange:O,onLanguageChange:H},{"custom-actions":v(()=>{var L;return[((L=C.value.value)==null?void 0:L.code)!==w(Le).Normal.code?(a(),d("div",Vs,[l("div",Fs,[n(ae,null,{default:v(()=>[n(w(Ut))]),_:1}),e[46]||(e[46]=l("span",{class:"timer-label"},"题目耗时",-1)),l("span",Js,M(et(ue.value)),1)]),l("div",js,[n(ae,null,{default:v(()=>[n(w(to))]),_:1}),e[47]||(e[47]=l("span",{class:"timer-label"},"总耗时",-1)),l("span",Gs,M(et($e.value)),1)])])):J("",!0)]}),_:1},8,["modelValue","default-code-mode","language"])])):(a(),X(w(Xl),{key:1,"problem-type":tt(),options:pe.value,"selected-options":Y.value,"onUpdate:selectedOptions":e[16]||(e[16]=L=>Y.value=L),"blank-answers":ve.value,"short-answer":we.value,"elapsed-time":ue.value,"show-timer":Ye.value,"show-stats":!1,stats:at},null,8,["problem-type","options","selected-options","blank-answers","short-answer","elapsed-time","show-timer","stats"])),l("div",Hs,[l("div",zs,[r.value.length>0?(a(),X(c,{key:0,class:"problem-list-btn",type:"info",plain:"",size:"small",onClick:e[17]||(e[17]=L=>Re.value=!0)},{default:v(()=>[n(ae,null,{default:v(()=>[n(w(so))]),_:1}),e[48]||(e[48]=E(" 题目列表 "))]),_:1})):J("",!0),r.value.length>0?(a(),d("div",qs,[(a(!0),d(ye,null,Pe(r.value.slice(0,5),(L,Ne)=>(a(),d("div",{key:L.id,class:pt(["mini-tab-item",{active:Ne===u.value}]),onClick:Ft=>he(L,Ne)},M(Ne+1),11,Ws))),128)),r.value.length>5?(a(),d("div",{key:0,class:"mini-tab-more",onClick:e[18]||(e[18]=L=>Re.value=!0)}," ... ")):J("",!0)])):J("",!0),l("div",Ks,[n(c,{class:"navigation-btn prev-btn",disabled:r.value.length===0||u.value<=0,onClick:ge,icon:w(no),type:"info",plain:""},{default:v(()=>e[49]||(e[49]=[E(" 上一题 ")])),_:1},8,["disabled","icon"]),r.value.length>0?(a(),d("div",Qs,[l("span",null,M(u.value+1)+" / "+M(r.value.length),1)])):J("",!0),n(c,{class:"navigation-btn next-btn",disabled:r.value.length===0||u.value>=r.value.length-1,onClick:be,type:"info",plain:""},{default:v(()=>[e[50]||(e[50]=E(" 下一题 ")),n(ae,{class:"el-icon--right"},{default:v(()=>[n(w(ao))]),_:1})]),_:1},8,["disabled"])])]),l("div",Zs,[T()?(a(),X(c,{key:0,class:"submit-btn",type:"primary",size:"large",disabled:D.value,onClick:je,loading:D.value},{default:v(()=>[E(M(D.value?"正在提交...":"提交代码"),1)]),_:1},8,["disabled","loading"])):(a(),X(c,{key:1,class:"submit-btn",type:"primary",size:"large",disabled:D.value,onClick:ct,loading:D.value},{default:v(()=>[E(M(D.value?"正在提交...":"提交答案"),1)]),_:1},8,["disabled","loading"])),o.value!==w(ie).STATUS_NULL.code?(a(),d("div",Ys,[n(fo,{code:o.value},null,8,["code"])])):J("",!0),t.value?(a(),X(c,{key:3,class:"manual-query-btn",type:"warning",size:"large",loading:m.value,onClick:ee},{default:v(()=>[E(M(m.value?"查询中...":"查询测评结果"),1)]),_:1},8,["loading"])):J("",!0)])])])])],64)):(a(),X(A,{key:4,description:"无题目数据",class:"empty-container"},{default:v(()=>[n(c,{type:"primary",onClick:k},{default:v(()=>e[51]||(e[51]=[E(" 重新加载 ")])),_:1}),n(c,{onClick:e[19]||(e[19]=L=>N.value=!0)},{default:v(()=>e[52]||(e[52]=[E(" 显示调试信息 ")])),_:1})]),_:1}))],2)}}}),mn=xe(Xs,[["__scopeId","data-v-5c9f093b"]]);export{mn as default};
