import{d as D,bc as F,aB as L,r as _,f as u,o as f,x as w,k as a,j as e,y as v,T as P,c as $,P as A,Q as O,u as R,a as j,W as I}from"./index-DTkCE7MD.js";import{U as Q}from"./Img-CbqiKKTP.js";const G=D({name:"UserEdit",__name:"UserEdit",setup(W,{expose:g}){const U=F(),x=L({}),s=_(!1),o=_({title:"",row:{},api:void 0,getTableList:void 0}),y=d=>{o.value=d,s.value=!0},b=_(),c=()=>{b.value.validate(async d=>{if(d)try{const l=o.value.row;await o.value.api(l),I.success({message:`${o.value.title}成功！`}),o.value.getTableList(),s.value=!1}catch(l){console.log(l)}})},k=d=>{console.log(d)};return g({acceptParams:y}),(d,l)=>{const p=u("el-input"),n=u("el-form-item"),r=u("el-col"),m=u("el-row"),i=u("el-option"),C=u("el-select"),S=u("el-date-picker"),B=u("el-radio-button"),M=u("el-radio-group"),E=u("Avatar"),N=u("el-icon"),T=u("el-form"),V=u("el-button"),Y=u("el-dialog");return f(),w(Y,{modelValue:s.value,"onUpdate:modelValue":l[10]||(l[10]=t=>s.value=t),title:`${o.value.title}`,"destroy-on-close":!0,width:"600px",draggable:"","append-to-body":""},{footer:a(()=>[e(V,{onClick:l[9]||(l[9]=t=>s.value=!1)},{default:a(()=>l[13]||(l[13]=[v(" 取消 ")])),_:1}),e(V,{type:"primary",onClick:c},{default:a(()=>l[14]||(l[14]=[v(" 确定 ")])),_:1})]),default:a(()=>[e(T,{ref_key:"ruleFormRef",ref:b,"label-width":"80px","label-suffix":" :",rules:x,model:o.value.row,onSubmit:P(c,["prevent"]),class:"form__label"},{default:a(()=>[e(m,null,{default:a(()=>[e(r,{span:12},{default:a(()=>[e(n,{label:"账户"},{default:a(()=>[e(p,{modelValue:o.value.row.username,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value.row.username=t),disabled:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:a(()=>[e(n,{label:"昵称",prop:"nickname"},{default:a(()=>[e(p,{modelValue:o.value.row.nickname,"onUpdate:modelValue":l[1]||(l[1]=t=>o.value.row.nickname=t),placeholder:"请填写昵称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(r,{span:12},{default:a(()=>[e(n,{label:"手机号",prop:"phone"},{default:a(()=>[e(p,{modelValue:o.value.row.phone,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value.row.phone=t),placeholder:"请填写手机号",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:a(()=>[e(n,{label:"邮箱",prop:"email"},{default:a(()=>[e(p,{modelValue:o.value.row.email,"onUpdate:modelValue":l[3]||(l[3]=t=>o.value.row.email=t),placeholder:"请填写邮箱地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(r,{span:12},{default:a(()=>[e(n,{label:"性别",prop:"sex"},{default:a(()=>[e(C,{modelValue:o.value.row.sex,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.row.sex=t),clearable:"",placeholder:"请选择性别"},{default:a(()=>[e(i,{label:"未知",value:0}),e(i,{label:"男",value:1}),e(i,{label:"女",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:a(()=>[e(n,{label:"生日",prop:"birthday"},{default:a(()=>[e(S,{modelValue:o.value.row.birthday,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.row.birthday=t),type:"date",placeholder:"选择生日","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(r,{span:12},{default:a(()=>[e(n,{label:"身份证",prop:"idCard"},{default:a(()=>[e(p,{modelValue:o.value.row.idCard,"onUpdate:modelValue":l[6]||(l[6]=t=>o.value.row.idCard=t),placeholder:"请填写身份证",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:a(()=>[e(n,{label:"状态",prop:"accountStatusCd"},{default:a(()=>[e(M,{modelValue:o.value.row.accountStatusCd,"onUpdate:modelValue":l[7]||(l[7]=t=>o.value.row.accountStatusCd=t)},{default:a(()=>[(f(!0),$(A,null,O(R(U).getDictOptions("account_status"),t=>(f(),w(B,{key:t.id,label:t.codeName,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(n,{label:"头像",prop:"logo"},{default:a(()=>[e(Q,{"image-url":o.value.row.logo,"onUpdate:imageUrl":l[8]||(l[8]=t=>o.value.row.logo=t),onChange:k,dir:"user",width:"135px",height:"135px","border-radius":"50%"},{empty:a(()=>[e(N,null,{default:a(()=>[e(E)]),_:1}),l[11]||(l[11]=j("span",null,"请上传头像",-1))]),tip:a(()=>l[12]||(l[12]=[v(" 头像大小不能超过 3M ")])),_:1},8,["image-url"])]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}});export{G as _};
