import{d as y,bc as D,aB as S,r as i,f as r,o as p,x as w,k as u,j as o,y as g,T as Y,c as C,P as F,Q as M,u as B,W as H}from"./index-DTkCE7MD.js";const $=y({name:"TopicInfoForm",__name:"TopicInfoForm",setup(L,{expose:c}){const _=D(),T=S({topicId:[{required:!0,message:"请填写主题ID"}],userId:[{required:!0,message:"请填写用户ID"}],avatar:[{required:!0,message:"请填写头像"}],name:[{required:!0,message:"请填写姓名"}],nickName:[{required:!0,message:"请填写昵称"}],score:[{required:!0,message:"请填写总得分"}],acNum:[{required:!0,message:"请填写总AC数量"}],submitNum:[{required:!0,message:"请填写提交次数"}],useTime:[{required:!0,message:"请填写总做题用时(分)"}],punishmentTime:[{required:!0,message:"请填写总罚时(分)"}],status:[{required:!0,message:"请填写开始做题"}],startTime:[{required:!0,message:"请填写开始时间"}],endTime:[{required:!0,message:"请填写完成时间"}],autoSubmit:[{required:!0,message:"请填写自动提交"}],createTime:[{required:!0,message:"请填写创建时间"}],updateTime:[{required:!0,message:"请填写更新时间"}],delFlag:[{required:!0,message:"请填写是否删除"}]}),s=i(!1),l=i({title:"",row:{},api:void 0,getTableList:void 0}),q=n=>{l.value=n,s.value=!0},v=i(),V=()=>{v.value.validate(async n=>{if(n)try{await l.value.api(l.value.row),H.success({message:`${l.value.title}成功！`}),l.value.getTableList(),s.value=!1}catch(e){console.log(e)}})};return c({acceptParams:q}),(n,e)=>{const m=r("el-input-number"),t=r("el-form-item"),d=r("el-input"),x=r("el-option"),N=r("el-select"),f=r("el-date-picker"),U=r("el-switch"),k=r("el-form"),b=r("el-button"),I=r("el-dialog");return p(),w(I,{modelValue:s.value,"onUpdate:modelValue":e[15]||(e[15]=a=>s.value=a),title:`${l.value.title}`,"destroy-on-close":!0,width:"580px",draggable:""},{footer:u(()=>[o(b,{onClick:e[14]||(e[14]=a=>s.value=!1)},{default:u(()=>e[16]||(e[16]=[g(" 取消")])),_:1}),o(b,{type:"primary",onClick:V},{default:u(()=>e[17]||(e[17]=[g(" 确定")])),_:1})]),default:u(()=>[o(k,{ref_key:"ruleFormRef",ref:v,"label-width":"140px","label-suffix":" :",rules:T,model:l.value.row,onSubmit:Y(V,["prevent"])},{default:u(()=>[o(t,{label:"主题ID",prop:"topicId"},{default:u(()=>[o(m,{modelValue:l.value.row.topicId,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.row.topicId=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(t,{label:"用户ID",prop:"userId"},{default:u(()=>[o(m,{modelValue:l.value.row.userId,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.row.userId=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(t,{label:"头像",prop:"avatar"},{default:u(()=>[o(d,{modelValue:l.value.row.avatar,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.row.avatar=a),placeholder:"请填写头像",clearable:""},null,8,["modelValue"])]),_:1}),o(t,{label:"姓名",prop:"name"},{default:u(()=>[o(d,{modelValue:l.value.row.name,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.row.name=a),placeholder:"请填写姓名",clearable:""},null,8,["modelValue"])]),_:1}),o(t,{label:"昵称",prop:"nickName"},{default:u(()=>[o(d,{modelValue:l.value.row.nickName,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.row.nickName=a),placeholder:"请填写昵称",clearable:""},null,8,["modelValue"])]),_:1}),o(t,{label:"总得分",prop:"score"},{default:u(()=>[o(m,{modelValue:l.value.row.score,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.row.score=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(t,{label:"总AC数量",prop:"acNum"},{default:u(()=>[o(m,{modelValue:l.value.row.acNum,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.row.acNum=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(t,{label:"提交次数",prop:"submitNum"},{default:u(()=>[o(m,{modelValue:l.value.row.submitNum,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.row.submitNum=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(t,{label:"总做题用时(分)",prop:"useTime"},{default:u(()=>[o(m,{modelValue:l.value.row.useTime,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.row.useTime=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(t,{label:"总罚时(分)",prop:"punishmentTime"},{default:u(()=>[o(m,{modelValue:l.value.row.punishmentTime,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.row.punishmentTime=a),precision:0,min:1,max:999999},null,8,["modelValue"])]),_:1}),o(t,{label:"开始做题",prop:"status"},{default:u(()=>[o(N,{modelValue:l.value.row.status,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.row.status=a),clearable:"",placeholder:"请选择开始做题"},{default:u(()=>[(p(!0),C(F,null,M(B(_).getDictOptions(""),a=>(p(),w(x,{key:a.id,label:a.codeName,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(t,{label:"开始时间",prop:"startTime"},{default:u(()=>[o(f,{clearable:"",modelValue:l.value.row.startTime,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.row.startTime=a),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择开始时间"},null,8,["modelValue"])]),_:1}),o(t,{label:"完成时间",prop:"endTime"},{default:u(()=>[o(f,{clearable:"",modelValue:l.value.row.endTime,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.row.endTime=a),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择完成时间"},null,8,["modelValue"])]),_:1}),o(t,{label:"自动提交",prop:"autoSubmit"},{default:u(()=>[o(U,{modelValue:l.value.row.autoSubmit,"onUpdate:modelValue":e[13]||(e[13]=a=>l.value.row.autoSubmit=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}});export{$ as _};
