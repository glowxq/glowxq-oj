import{d as j,r as p,f as _,g as E,o as m,c as H,j as s,k as l,u as n,a_ as O,y as o,a$ as L,t as b,ee as Q,e5 as M,x as k,b1 as P,m as $,i as U,ef as z,ed as F,e7 as G,eg as J,eh as K,ei as W,ej as x,ek as X,_ as Y}from"./index-DTkCE7MD.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-v8dVln4N.js";import{_ as w}from"./DictTypeForm.vue_vue_type_script_setup_true_lang-4BUeEENG.js";import{u as S}from"./useHandleData-BdxQ-8Ab.js";import{_ as A}from"./DictData.vue_vue_type_script_setup_true_lang-zWUD37kb.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-DXdJYPv-.js";import"./sortable.esm-Cw1ESr5Y.js";import"./DictDataForm-D_ssXIDW.js";const te={class:"table-box"},ae=j({name:"DictManage",__name:"index",setup(le){const h=[{type:"selection",width:80,selectable:a=>a.isLock!=="T"},{prop:"id",label:"编号",width:100},{prop:"typeName",label:"名称"},{prop:"typeCode",label:"类型",width:200},{prop:"type",label:"业务类型",enum:F,width:120},{prop:"isShow",label:"显示",enum:G,width:80},{prop:"remark",label:"备注"},{prop:"createTime",label:"创建时间"},{prop:"updateTime",label:"修改时间"},{prop:"operation",label:"操作",width:150,fixed:"right"}],q=[{prop:"typeName",label:"名称",el:"input"},{prop:"typeCode",label:"类型",el:"input"}],f=p(!1),v=p(""),T=p(""),d=p(),N=a=>J(a),C=p(),g=(a,e={},i=!0)=>{var u,y;i&&(e={type:"business"});const r={title:a,row:{...e},api:i?K:W,getTableList:(u=d.value)==null?void 0:u.getTableList,isAdd:i};(y=C.value)==null||y.acceptParams(r)},R=async a=>{var e;await S(x,{ids:[a.id]},`删除【${a.typeCode}】字典类型`),(e=d.value)==null||e.getTableList()},V=async a=>{var e,i;await S(x,{ids:a},"删除所选字典类型信息"),(e=d.value)==null||e.clearSelection(),(i=d.value)==null||i.getTableList()},D=p(),B=a=>{var e;(e=D.value)==null||e.show(a)},I=async(a={})=>{T.value=`字典【${a.typeCode}】`;const{data:e}=await X({ids:[a.id]});f.value=!0,v.value=e};return(a,e)=>{const i=_("el-button"),r=_("el-tag"),u=_("el-dialog"),y=E("auth");return m(),H("div",te,[s(Z,{ref_key:"proTableRef",ref:d,title:"字典类型列表",indent:20,columns:h,"search-columns":q,"request-api":N},{tableHeader:l(t=>[s(i,{type:"primary",icon:n(O),onClick:e[0]||(e[0]=c=>g("新增字典类型"))},{default:l(()=>e[2]||(e[2]=[o(" 新增字典类型 ")])),_:1},8,["icon"]),s(i,{type:"danger",icon:n(L),plain:"",disabled:!t.isSelected,onClick:c=>V(t.selectedListIds)},{default:l(()=>e[3]||(e[3]=[o(" 批量删除字典类型 ")])),_:2},1032,["icon","disabled","onClick"])]),typeCode:l(({row:t})=>[s(i,{type:"primary",link:"",onClick:c=>B(t)},{default:l(()=>[o(b(t==null?void 0:t.typeCode),1)]),_:2},1032,["onClick"])]),type:l(({row:t})=>[s(r,{type:t.type==="system"?"primary":"info"},{default:l(()=>[o(b(n(Q)(t==null?void 0:t.type)),1)]),_:2},1032,["type"])]),isShow:l(({row:t})=>[s(r,{type:t.isShow==="T"?"success":"danger"},{default:l(()=>[o(b(n(M)(t==null?void 0:t.isShow)),1)]),_:2},1032,["type"])]),operation:l(({row:t})=>[t.isLock!=="T"?(m(),k(i,{key:0,type:"primary",link:"",icon:n(P),onClick:c=>g("编辑字典类型",t,!1)},{default:l(()=>e[4]||(e[4]=[o(" 编辑 ")])),_:2},1032,["icon","onClick"])):$("",!0),t.isLock!=="T"?(m(),k(i,{key:1,type:"primary",link:"",icon:n(L),onClick:c=>R(t)},{default:l(()=>e[5]||(e[5]=[o(" 删除 ")])),_:2},1032,["icon","onClick"])):$("",!0),U((m(),k(i,{type:"primary",link:"",icon:n(z),onClick:c=>I(t)},{default:l(()=>e[6]||(e[6]=[o(" SQL ")])),_:2},1032,["icon","onClick"])),[[y,"sys.dict.sql_btn"]])]),_:1},512),s(w,{ref_key:"dictTypeRef",ref:C},null,512),s(A,{ref_key:"dictDataRef",ref:D},null,512),s(u,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),title:T.value,width:"80%"},{default:l(()=>[s(ee,{code:v.value,language:"sql",title:"字典SQL",class:"sql-box"},null,8,["code"])]),_:1},8,["modelValue","title"])])}}}),ue=Y(ae,[["__scopeId","data-v-3da65d49"]]);export{ue as default};
